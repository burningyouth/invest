{"version":3,"sources":["../packages/@react-stately/collections/src/Item.ts","../packages/@react-stately/collections/src/Section.ts","../packages/@react-stately/collections/src/CollectionBuilder.ts","../packages/@react-stately/collections/src/useCollection.ts","../packages/@react-stately/collections/src/getItemCount.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/react-transition-group/Transition.js","../node_modules/@spectrum-icons/ui/CheckmarkMedium.js","../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","../node_modules/react-transition-group/utils/PropTypes.js","../packages/@react-spectrum/layout/src/Grid.tsx","../packages/@react-spectrum/layout/src/flex-gap.css","../packages/@react-spectrum/layout/src/Flex.tsx","../node_modules/@parcel/scope-hoisting/lib/helpers.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@spectrum-icons/workflow/ShowMenu.js","../node_modules/@adobe/react-spectrum-workflow/dist/ShowMenu.js","../node_modules/@spectrum-icons/workflow/Close.js","../node_modules/@adobe/react-spectrum-workflow/dist/Close.js","../node_modules/@adobe/react-spectrum-ui/dist/CheckmarkMedium.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@spectrum-icons/workflow/GraphDonut.js","../node_modules/@adobe/react-spectrum-workflow/dist/GraphDonut.js","../packages/@react-spectrum/view/src/View.tsx","../packages/@react-spectrum/view/src/Content.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../packages/@react-stately/selection/src/Selection.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../packages/@react-stately/selection/src/useMultipleSelectionState.ts","../packages/@react-stately/selection/src/SelectionManager.ts","../packages/@react-stately/tree/src/TreeCollection.ts","../packages/@react-stately/tree/src/useTreeState.ts","../packages/@react-stately/menu/src/useMenuTriggerState.ts","../packages/@react-stately/overlays/src/useOverlayTriggerState.ts","../packages/@react-aria/selection/src/useSelectableCollection.ts","../packages/@react-aria/selection/src/useTypeSelect.ts","../packages/@react-aria/selection/src/ListKeyboardDelegate.ts","../packages/@react-aria/selection/src/useSelectableList.ts","../packages/@react-aria/menu/src/useMenuItem.ts","../packages/@react-aria/selection/src/useSelectableItem.ts","../packages/@react-spectrum/overlays/src/OpenTransition.tsx","../packages/@react-spectrum/overlays/src/Overlay.tsx","../packages/@react-spectrum/overlays/src/overlays.css","../packages/@react-spectrum/overlays/src/Popover.tsx","../node_modules/@adobe/spectrum-css-temp/components/popover/vars.css","../node_modules/@adobe/spectrum-css-temp/components/modal/vars.css","../node_modules/@adobe/spectrum-css-temp/components/underlay/vars.css","../packages/@react-spectrum/overlays/src/Underlay.tsx","../packages/@react-spectrum/overlays/src/Tray.tsx","../node_modules/@adobe/spectrum-css-temp/components/tray/vars.css","../packages/@react-spectrum/menu/src/context.ts","../node_modules/@adobe/spectrum-css-temp/components/menu/vars.css","../packages/@react-spectrum/menu/src/MenuTrigger.tsx","../packages/@react-aria/menu/src/useMenuTrigger.ts","../packages/@react-spectrum/menu/src/MenuItem.tsx","../packages/@react-spectrum/menu/src/MenuSection.tsx","../packages/@react-aria/menu/src/useMenuSection.ts","../packages/@react-aria/separator/src/useSeparator.ts","../packages/@react-spectrum/menu/src/Menu.tsx","../packages/@react-aria/menu/src/useMenu.ts"],"names":["props","React","Item","children","rendered","textValue","context","console","type","hasChildNodes","hasChildItems","value","child","items","element","_Item","Section","Error","renderer","build","this","iterable","getFullNode","item","index","nodes","partialNode","v","key","parentKey","state","cached","cache","get","name","childNodes","result","childNode","nodeKey","getKey","wrapper","compose","getChildState","node","capitalize","parentNode","builder","level","shouldInvalidate","f","Symbol","iterator","outer","inner","str","useCollection","invalidators","useMemo","prev","useRef","factory","getItemCount","count","module","exports","__esModule","default","EXITING","ENTERED","ENTERING","EXITED","UNMOUNTED","PropTypes","obj","newObj","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","set","_interopRequireWildcard","require","_react","_interopRequireDefault","_reactDom","_reactLifecyclesCompat","Transition","_React$Component","subClass","superClass","_this","initialStatus","parentGroup","transitionGroup","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","create","constructor","__proto__","_proto","getChildContext","getDerivedStateFromProps","_ref","prevState","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","undefined","mounting","findDOMNode","performEnter","performExit","setState","_this2","appearing","timeouts","enterTimeout","onEnter","safeSetState","onEntering","onTransitionEnd","onEntered","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","active","event","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","childProps","source","excluded","i","target","sourceKeys","keys","length","indexOf","_objectWithoutPropertiesLoose","Children","only","cloneElement","Component","noop","contextTypes","object","childContextTypes","propTypes","defaultProps","_default","polyfill","createElement","_icon","UIIcon","_CheckmarkMedium","CheckmarkMedium","componentWillMount","componentWillReceiveProps","nextProps","bind","componentWillUpdate","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","componentName","displayName","newApiName","maybeSnapshot","snapshot","__suppressDeprecationWarning","classNamesShape","timeoutsShape","gridStyleProps","autoFlow","autoColumns","autoRows","areas","columns","rows","gap","rowGap","columnGap","justifyItems","justifyContent","alignItems","alignContent","styleProps","useStyleProps","otherProps","domRef","useDOMRef","filterDOMProps","ref","test","dimensionValue","Array","gridDimensionValue","_Grid","forwardRef","a","flexStyleProps","direction","wrap","breakpointProvider","useBreakpoint","matchedBreakpoints","flexStyle","isSSR","useIsSSR","_isFlexGapSupported","document","flex","isFlexGapSupported","style","responsiveDimensionValue","className","classNames","_Flex","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","Icon","_ShowMenu","A4uShowMenu","_ref$scale","scale","color","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_objectWithoutProperties","_extends","viewBox","_util","viewBoxes","height","rx","ry","width","x","y","assign","arguments","apply","_Close","A4uClose","d","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iteratorMethod","isNaN","isGeneratorFunction","genFun","ctor","mark","awrap","async","Promise","iter","toString","reverse","pop","skipTempReset","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","_GraphDonut","A4uGraphDonut","useSlotProps","elementType","ElementType","_View","_Content","_setPrototypeOf","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_typeof","_possibleConstructorReturn","ReferenceError","Parent","args","Class","instance","_cache","Map","has","Wrapper","Derived","hasNativeReflectConstruct","Super","NewTarget","anchorKey","currentKey","selection","collection","allowsCellSelection","_isSelectAll","options","setFocused","setFocusedKey","selectedKeys","Set","isSelected","selectionMode","size","allKeys","k","first","getItem","last","extendSelection","toKey","getKeyRange","disabledKeys","fromItem","toItem","getKeyRangeInternal","from","to","getKeyAfter","toggleSelection","replaceSelection","setSelectedKeys","addKeys","selectAll","clearSelection","toggleSelectAll","select","isSelectionEqual","expandedKeys","keyMap","firstKey","lastKey","visit","getKeys","getKeyBefore","getFirstKey","getLastKey","useTreeState","useControlledState","selectionState","disallowEmptySelection","isFocusedRef","useState","focusedKeyRef","childFocusStrategyRef","selectedKeysProp","convertSelection","defaultSelectedKeys","childFocusStrategy","useMultipleSelectionState","tree","useEffect","toggleKey","setExpandedKeys","res","selectionManager","useMenuTriggerState","overlayTriggerState","isOpen","open","setOpen","close","toggle","useOverlayTriggerState","focusStrategy","setFocusStrategy","isMac","useSelectableCollection","keyboardDelegate","autoFocus","shouldFocusWrap","disallowSelectAll","selectOnFocus","disallowTypeAhead","allowsTabNavigation","useLocale","focusedKey","manager","focusSafely","handlers","onKeyDown","navigateToKey","nextKey","isCtrlKeyPressed","walker","getFocusableTreeWalker","tabbable","focusWithoutScrolling","onFocus","relatedTarget","Node","onBlur","onMouseDown","typeSelectProps","onTypeSelect","search","onKeyDownCapture","character","getStringForKey","clearTimeout","useTypeSelect","mergeProps","tabIndex","collectionProps","collator","getKeyBelow","getKeyAbove","current","querySelector","getKeyPageAbove","menu","pageY","Math","getKeyPageBelow","getKeyForSearch","fromKey","substring","compare","useSelectableList","useCollator","usage","sensitivity","isVirtualized","offsetX","relativeOffset","scrollView","offsetY","maxX","maxY","scrollIntoView","listProps","shouldUseVirtualFocus","prop","axis","sum","ancestor","useMenuItem","onAction","role","labelId","useSlotId","descriptionId","keyboardId","ariaProps","filter","Boolean","join","itemProps","focus","onSelect","isFocused","useSelectableItem","shouldSelectOnPressUp","pressProps","usePress","onPressStart","onPressUp","onClose","closeOnSelect","isDisabled","hoverProps","useHover","onHoverStart","isFocusVisible","menuItemProps","labelProps","id","descriptionProps","keyboardShortcutProps","$parcel$interopDefault","OPEN_STATES","entering","entered","handleEntered","useCallback","setExited","handleExited","contents","UNSAFE_style","background","isolation","ReactDOM","container","_Overlay","arrowPlacement","left","right","top","bottom","isDismissable","placement","arrowProps","shouldCloseOnBlur","isKeyboardDismissDisabled","hideArrow","isNonModal","PopoverWrapper","overlayProps","useOverlay","modalProps","useModal","ROOT_2","useLayoutEffect","spectrumTipWidth","window","setSize","parseInt","spectrumBorderWidth","setBorderWidth","landscape","mirror","borderDiagonal","borderWidth","halfBorderDiagonal","secondary","primary","primaryStart","primaryEnd","secondaryMiddle","secondaryEnd","pathData","xmlns","_Popover","underlayProps","isFixedHeight","TrayWrapper","usePreventScroll","viewport","useViewportSize","timeoutRef","setHeight","wrapperStyle","wrapperClassName","domProps","_Tray","MenuContext","menuPopoverRef","triggerRef","menuTriggerRef","menuRef","align","shouldFlip","menuTriggerId","useId","useOverlayTrigger","menuTriggerProps","onPress","menuProps","useMenuTrigger","initialPlacement","isMobile","useIsMobileDevice","useOverlayPosition","targetRef","overlayRef","unwrapDOMRef","scrollRef","menuContext","maxHeight","UNSAFE_className","restoreFocus","onDismiss","overlay","positionProps","isPressed","_MenuTrigger","useContext","isHovered","focusRingClass","slots","text","end","icon","description","keyboard","slot","ariaLabel","headingId","headingProps","heading","groupProps","useMenuSection","separatorProps","labelable","ariaOrientation","useSeparator","contextProps","completeProps","useMenu","useSyncRef","menuItem","_Menu"],"mappings":"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","file":"static/js/4.24a7fe03.chunk.js","sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ItemElement, ItemProps} from '@react-types/shared';\nimport {PartialNode} from './types';\nimport React, {ReactElement} from 'react';\n\nfunction Item<T>(props: ItemProps<T>): ReactElement { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return null;\n}\n\nItem.getCollectionNode = function* getCollectionNode<T>(props: ItemProps<T>, context: any): Generator<PartialNode<T>> {\n  let {childItems, title, children} = props;\n\n  let rendered = props.title || props.children;\n  let textValue = props.textValue || (typeof rendered === 'string' ? rendered : '') || props['aria-label'] || '';\n\n  // suppressTextValueWarning is used in components like Tabs, which don't have type to select support.\n  if (!textValue && !context?.suppressTextValueWarning) {\n    console.warn('<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop.');\n  }\n\n  yield {\n    type: 'item',\n    props: props,\n    rendered,\n    textValue,\n    'aria-label': props['aria-label'],\n    hasChildNodes: hasChildItems(props),\n    *childNodes() {\n      if (childItems) {\n        for (let child of childItems) {\n          yield {\n            type: 'item',\n            value: child\n          };\n        }\n      } else if (title) {\n        let items: PartialNode<T>[] = [];\n        React.Children.forEach(children, child => {\n          items.push({\n            type: 'item',\n            element: child as ItemElement<T>\n          });\n        });\n\n        yield* items;\n      }\n    }\n  };\n};\n\nfunction hasChildItems<T>(props: ItemProps<T>) {\n  if (props.hasChildItems != null) {\n    return props.hasChildItems;\n  }\n\n  if (props.childItems) {\n    return true;\n  }\n\n  if (props.title && React.Children.count(props.children) > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// We don't want getCollectionNode to show up in the type definition\nlet _Item = Item as <T>(props: ItemProps<T>) => JSX.Element;\nexport {_Item as Item};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {PartialNode} from './types';\nimport React, {ReactElement} from 'react';\nimport {SectionProps} from '@react-types/shared';\n\nfunction Section<T>(props: SectionProps<T>): ReactElement { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return null;\n}\n\nSection.getCollectionNode = function* getCollectionNode<T>(props: SectionProps<T>): Generator<PartialNode<T>> {\n  let {children, title, items} = props;\n  yield {\n    type: 'section',\n    hasChildNodes: true,\n    rendered: title,\n    'aria-label': props['aria-label'],\n    *childNodes() {\n      if (typeof children === 'function') {\n        if (!items) {\n          throw new Error('props.children was a function but props.items is missing');\n        }\n    \n        for (let item of items) {\n          yield {\n            type: 'item',\n            value: item,\n            renderer: children\n          };\n        }\n      } else {\n        let items: PartialNode<T>[] = [];\n        React.Children.forEach(children, child => {\n          items.push({\n            type: 'item',\n            element: child\n          });\n        });\n\n        yield* items;\n      }\n    }\n  };\n};\n\n// We don't want getCollectionNode to show up in the type definition\nlet _Section = Section as <T>(props: SectionProps<T>) => JSX.Element;\nexport {_Section as Section};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {CollectionBase, CollectionElement, Node} from '@react-types/shared';\nimport {PartialNode} from './types';\nimport React, {Key, ReactElement} from 'react';\n\ninterface CollectionBuilderState {\n  renderer?: (value: any) => ReactElement\n}\n\nexport class CollectionBuilder<T extends object> {\n  private context?: unknown;\n  private cache: WeakMap<T, Node<T>> = new WeakMap();\n\n  build(props: CollectionBase<T>, context?: unknown) {\n    this.context = context;\n    return iterable(() => this.iterateCollection(props));\n  }\n\n  private *iterateCollection(props: CollectionBase<T>) {\n    let {children, items} = props;\n\n    if (typeof children === 'function') {\n      if (!items) {\n        throw new Error('props.children was a function but props.items is missing');\n      }\n\n      for (let item of props.items) {\n        yield* this.getFullNode({\n          value: item\n        }, {renderer: children});\n      }\n    } else {\n      let items: CollectionElement<T>[] = [];\n      React.Children.forEach(children, child => {\n        items.push(child);\n      });\n\n      let index = 0;\n      for (let item of items) {\n        let nodes = this.getFullNode({\n          element: item,\n          index: index\n        }, {});\n\n        for (let node of nodes) {\n          index++;\n          yield node;\n        }\n      }\n    }\n  }\n\n  private getKey(item: CollectionElement<T>, partialNode: PartialNode<T>, state: CollectionBuilderState, parentKey?: Key): Key {\n    if (item.key != null) {\n      return item.key;\n    }\n\n    if (partialNode.type === 'cell' && partialNode.key != null) {\n      return `${parentKey}${partialNode.key}`;\n    }\n\n    let v = partialNode.value as any;\n    if (v != null) {\n      let key = v.key ?? v.id;\n      if (key == null) {\n        throw new Error('No key found for item');\n      }\n\n      return key;\n    }\n\n    return parentKey ? `${parentKey}.${partialNode.index}` : `$.${partialNode.index}`;\n  }\n\n  private getChildState(state: CollectionBuilderState, partialNode: PartialNode<T>) {\n    return {\n      renderer: partialNode.renderer || state.renderer\n    };\n  }\n\n  private *getFullNode(partialNode: PartialNode<T>, state: CollectionBuilderState, parentKey?: Key, parentNode?: Node<T>): Generator<Node<T>> {\n    // If there's a value instead of an element on the node, and a parent renderer function is available,\n    // use it to render an element for the value.\n    let element = partialNode.element;\n    if (!element && partialNode.value && state && state.renderer) {\n      let cached = this.cache.get(partialNode.value);\n      if (cached && (!cached.shouldInvalidate || !cached.shouldInvalidate(this.context))) {\n        cached.index = partialNode.index;\n        yield cached;\n        return;\n      }\n\n      element = state.renderer(partialNode.value);\n    }\n\n    // If there's an element with a getCollectionNode function on its type, then it's a supported component.\n    // Call this function to get a partial node, and recursively build a full node from there.\n    if (React.isValidElement(element)) {\n      let type = element.type as any;\n      if (typeof type !== 'function' || typeof type.getCollectionNode !== 'function') {\n        let name = typeof element.type === 'function' ? element.type.name : element.type;\n        throw new Error(`Unknown element <${name}> in collection.`);\n      }\n\n      let childNodes = type.getCollectionNode(element.props, this.context) as Generator<PartialNode<T>, void, Node<T>[]>;\n      let index = partialNode.index;\n      let result = childNodes.next();\n      while (!result.done && result.value) {\n        let childNode = result.value;\n\n        partialNode.index = index;\n\n        let nodeKey = childNode.key;\n        if (!nodeKey) {\n          nodeKey = childNode.element ? null : this.getKey(element as CollectionElement<T>, partialNode, state, parentKey);\n        }\n\n        let nodes = this.getFullNode({\n          ...childNode,\n          key: nodeKey,\n          index,\n          wrapper: compose(partialNode.wrapper, childNode.wrapper)\n        }, this.getChildState(state, childNode), parentKey ? `${parentKey}${element.key}` : element.key, parentNode);\n\n        let children = [...nodes];\n        for (let node of children) {\n          // Cache the node based on its value\n          node.value = childNode.value || partialNode.value;\n          if (node.value) {\n            this.cache.set(node.value, node);\n          }\n\n          // The partial node may have specified a type for the child in order to specify a constraint.\n          // Verify that the full node that was built recursively matches this type.\n          if (partialNode.type && node.type !== partialNode.type) {\n            throw new Error(`Unsupported type <${capitalize(node.type)}> in <${capitalize(parentNode.type)}>. Only <${capitalize(partialNode.type)}> is supported.`);\n          }\n\n          index++;\n          yield node;\n        }\n\n        result = childNodes.next(children);\n      }\n\n      return;\n    }\n\n    // Ignore invalid elements\n    if (partialNode.key == null) {\n      return;\n    }\n\n    // Create full node\n    let builder = this;\n    let node: Node<T> = {\n      type: partialNode.type,\n      props: partialNode.props,\n      key: partialNode.key,\n      parentKey: parentNode ? parentNode.key : null,\n      value: partialNode.value,\n      level: parentNode ? parentNode.level + 1 : 0,\n      index: partialNode.index,\n      rendered: partialNode.rendered,\n      textValue: partialNode.textValue,\n      'aria-label': partialNode['aria-label'],\n      wrapper: partialNode.wrapper,\n      shouldInvalidate: partialNode.shouldInvalidate,\n      hasChildNodes: partialNode.hasChildNodes,\n      childNodes: iterable(function *() {\n        if (!partialNode.hasChildNodes) {\n          return;\n        }\n\n        let index = 0;\n        for (let child of partialNode.childNodes()) {\n          // Ensure child keys are globally unique by prepending the parent node's key\n          if (child.key != null) {\n            child.key = `${node.key}${child.key}`;\n          }\n\n          child.index = index;\n          let nodes = builder.getFullNode(child, builder.getChildState(state, child), node.key, node);\n          for (let node of nodes) {\n            index++;\n            yield node;\n          }\n        }\n      })\n    };\n\n    yield node;\n  }\n}\n\n// Wraps an iterator function as an iterable object, and caches the results.\nfunction iterable<T>(iterator: () => IterableIterator<Node<T>>): Iterable<Node<T>> {\n  let cache = [];\n  let iterable = null;\n  return {\n    *[Symbol.iterator]() {\n      for (let item of cache) {\n        yield item;\n      }\n\n      if (!iterable) {\n        iterable = iterator();\n      }\n\n      for (let item of iterable) {\n        cache.push(item);\n        yield item;\n      }\n    }\n  };\n}\n\ntype Wrapper = (element: ReactElement) => ReactElement;\nfunction compose(outer: Wrapper | void, inner: Wrapper | void): Wrapper {\n  if (outer && inner) {\n    return (element) => outer(inner(element));\n  }\n\n  if (outer) {\n    return outer;\n  }\n\n  if (inner) {\n    return inner;\n  }\n}\n\nfunction capitalize(str: string) {\n  return str[0].toUpperCase() + str.slice(1);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, CollectionBase, Node} from '@react-types/shared';\nimport {CollectionBuilder} from './CollectionBuilder';\nimport {useMemo, useRef} from 'react';\n\ntype CollectionFactory<T, C extends Collection<Node<T>>> = (node: Iterable<Node<T>>, prev: C | null) => C;\n\nexport function useCollection<T extends object, C extends Collection<Node<T>> = Collection<Node<T>>>(props: CollectionBase<T>, factory: CollectionFactory<T, C>, context?: unknown, invalidators: Array<any> = []): C {\n  let builder = useMemo(() => new CollectionBuilder<T>(), []);\n\n  let prev = useRef<C>(null);\n  return useMemo(() => {\n    let nodes = builder.build(props, context);\n    prev.current = factory(nodes, prev.current);\n    return prev.current;\n  // Don't invalidate when any prop changes, just the two we care about.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [builder, props.children, props.items, context, ...invalidators]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Node} from '@react-types/shared';\n\nconst cache = new WeakMap<Iterable<unknown>, number>();\n\nexport function getItemCount<T>(collection: Iterable<Node<T>>): number {\n  let count = cache.get(collection);\n  if (count != null) {\n    return count;\n  }\n\n  count = 0;\n  for (let item of collection) {\n    if (item.type === 'section') {\n      count += getItemCount(item.childNodes);\n    } else {\n      count++;\n    }\n  }\n\n  cache.set(collection, count);\n  return count;\n}\n","module.exports = require(\"regenerator-runtime\");\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = exports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = void 0;\n\nvar PropTypes = _interopRequireWildcard(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nvar _PropTypes = require(\"./utils/PropTypes\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar UNMOUNTED = 'unmounted';\nexports.UNMOUNTED = UNMOUNTED;\nvar EXITED = 'exited';\nexports.EXITED = EXITED;\nvar ENTERING = 'entering';\nexports.ENTERING = ENTERING;\nvar ENTERED = 'entered';\nexports.ENTERED = ENTERED;\nvar EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 0 },\n *   entered:  { opacity: 1 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nexports.EXITING = EXITING;\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context.transitionGroup; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  var _proto = Transition.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      transitionGroup: null // allows for nested Transitions\n\n    };\n  };\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      var node = _reactDom.default.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context.transitionGroup ? this.context.transitionGroup.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      return children(status, childProps);\n    }\n\n    var child = _react.default.Children.only(children);\n\n    return _react.default.cloneElement(child, childProps);\n  };\n\n  return Transition;\n}(_react.default.Component);\n\nTransition.contextTypes = {\n  transitionGroup: PropTypes.object\n};\nTransition.childContextTypes = {\n  transitionGroup: function transitionGroup() {}\n};\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`, `'unmounted'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the `<Transition>` component mounts.\n   * If you want to transition on the first mount set `appear` to `true`, and the\n   * component will transition in as soon as the `<Transition>` mounts.\n   *\n   * > Note: there are no specific \"appear\" states. `appear` only adds an additional `enter` transition.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = _PropTypes.timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\n\nvar _default = (0, _reactLifecyclesCompat.polyfill)(Transition);\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = CheckmarkMedium;\n\nvar _CheckmarkMedium = require(\"@adobe/react-spectrum-ui/dist/CheckmarkMedium\");\n\nvar _icon = require(\"@react-spectrum/icon\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction CheckmarkMedium(props) {\n  return /*#__PURE__*/_react.default.createElement(_icon.UIIcon, props, /*#__PURE__*/_react.default.createElement(_CheckmarkMedium.CheckmarkMedium, null));\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","\"use strict\";\n\nexports.__esModule = true;\nexports.classNamesShape = exports.timeoutsShape = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar timeoutsShape = process.env.NODE_ENV !== 'production' ? _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n  enter: _propTypes.default.number,\n  exit: _propTypes.default.number,\n  appear: _propTypes.default.number\n}).isRequired]) : null;\nexports.timeoutsShape = timeoutsShape;\nvar classNamesShape = process.env.NODE_ENV !== 'production' ? _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.shape({\n  enter: _propTypes.default.string,\n  exit: _propTypes.default.string,\n  active: _propTypes.default.string\n}), _propTypes.default.shape({\n  enter: _propTypes.default.string,\n  enterDone: _propTypes.default.string,\n  enterActive: _propTypes.default.string,\n  exit: _propTypes.default.string,\n  exitDone: _propTypes.default.string,\n  exitActive: _propTypes.default.string\n})]) : null;\nexports.classNamesShape = classNamesShape;","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {\n  baseStyleProps,\n  dimensionValue,\n  passthroughStyle,\n  StyleHandlers,\n  useDOMRef,\n  useStyleProps\n} from '@react-spectrum/utils';\nimport {DimensionValue, DOMRef} from '@react-types/shared';\nimport {filterDOMProps} from '@react-aria/utils';\nimport {GridProps} from '@react-types/layout';\nimport React, {forwardRef} from 'react';\n\nconst gridStyleProps: StyleHandlers = {\n  ...baseStyleProps,\n  autoFlow: ['gridAutoFlow', passthroughStyle],\n  autoColumns: ['gridAutoColumns', gridDimensionValue],\n  autoRows: ['gridAutoRows', gridDimensionValue],\n  areas: ['gridTemplateAreas', gridTemplateAreasValue],\n  columns: ['gridTemplateColumns', gridTemplateValue],\n  rows: ['gridTemplateRows', gridTemplateValue],\n  gap: ['gap', dimensionValue],\n  rowGap: ['rowGap', dimensionValue],\n  columnGap: ['columnGap', dimensionValue],\n  justifyItems: ['justifyItems', passthroughStyle],\n  justifyContent: ['justifyContent', passthroughStyle],\n  alignItems: ['alignItems', passthroughStyle],\n  alignContent: ['alignContent', passthroughStyle]\n};\n\nfunction Grid(props: GridProps, ref: DOMRef<HTMLDivElement>) {\n  let {\n    children,\n    ...otherProps\n  } = props;\n  let {styleProps} = useStyleProps(otherProps, gridStyleProps);\n  styleProps.style.display = 'grid'; // inline-grid?\n  let domRef = useDOMRef(ref);\n\n  return (\n    <div {...filterDOMProps(otherProps)} {...styleProps} ref={domRef}>\n      {children}\n    </div>\n  );\n}\n\n/**\n * Can be used to make a repeating fragment of the columns or rows list.\n * See [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/repeat).\n * @param count - The number of times to repeat the fragment.\n * @param repeat - The fragment to repeat.\n */\nexport function repeat(count: number | 'auto-fill' | 'auto-fit', repeat: DimensionValue | DimensionValue[]): string {\n  return `repeat(${count}, ${gridTemplateValue(repeat)})`;\n}\n\n/**\n * Defines a size range greater than or equal to min and less than or equal to max.\n * See [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/minmax).\n * @param min - The minimum size.\n * @param max - The maximum size.\n */\nexport function minmax(min: DimensionValue, max: DimensionValue): string {\n  return `minmax(${gridDimensionValue(min)}, ${gridDimensionValue(max)})`;\n}\n\n/**\n * Clamps a given size to an available size.\n * See [MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/fit-content).\n * @param dimension - The size to clamp.\n */\nexport function fitContent(dimension: DimensionValue): string {\n  return `fit-content(${gridDimensionValue(dimension)})`;\n}\n\nfunction gridTemplateAreasValue(value) {\n  return value.map(v => `\"${v}\"`).join('\\n');\n}\n\nfunction gridDimensionValue(value) {\n  if (/^max-content|min-content|minmax|auto|fit-content|repeat|subgrid/.test(value)) {\n    return value;\n  }\n\n  return dimensionValue(value);\n}\n\nfunction gridTemplateValue(value) {\n  if (Array.isArray(value)) {\n    return value.map(gridDimensionValue).join(' ');\n  }\n\n  return gridDimensionValue(value);\n}\n\n/**\n * A layout container using CSS grid. Supports Spectrum dimensions as values to\n * ensure consistent and adaptive sizing and spacing.\n */\nconst _Grid = forwardRef(Grid);\nexport {_Grid as Grid};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n.flex-container {\n  /* this is necessary so that the inner margins don't affect anything outside */\n  display: flex;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-gap {\n  --gap: 0px;\n  --column-gap: var(--gap);\n  --row-gap: var(--gap);\n\n  /* apply a negative margin to counteract the margin on each item at the edges */\n  margin: calc(var(--row-gap) / -2) calc(var(--column-gap) / -2);\n\n  /* increase the width and height to account for this margin */\n  /* Add 1px to fix rounding error in Safari (╯°□°)╯︵ ┻━┻ */\n  width: calc(100% + calc(var(--column-gap) + 1px));\n  height: calc(100% + var(--row-gap));\n}\n\n/* If the selector was .flex-gap > *, it wouldn't override when components have a margin 0 specified by a single\n * class selector, specificity is equal. Both are one class. Neither > nor * contribute to specificity.\n * We need to make it more specific, so we raise it by 1 class.\n */\n.flex-container .flex-gap > * {\n  /* apply half of the gap to each side of every item */\n  margin: calc(var(--row-gap) / 2) calc(var(--column-gap) / 2);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames, passthroughStyle, responsiveDimensionValue, StyleHandlers, useBreakpoint, useDOMRef, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {filterDOMProps} from '@react-aria/utils';\nimport {FlexProps} from '@react-types/layout';\nimport React, {forwardRef} from 'react';\nimport styles from './flex-gap.css';\nimport {useIsSSR} from '@react-aria/ssr';\n\nconst flexStyleProps: StyleHandlers = {\n  direction: ['flexDirection', passthroughStyle],\n  wrap: ['flexWrap', flexWrapValue],\n  justifyContent: ['justifyContent', flexAlignValue],\n  alignItems: ['alignItems', flexAlignValue],\n  alignContent: ['alignContent', flexAlignValue]\n};\n\nfunction Flex(props: FlexProps, ref: DOMRef<HTMLDivElement>) {\n  let {\n    children,\n    ...otherProps\n  } = props;\n  let breakpointProvider = useBreakpoint();\n  let matchedBreakpoints = breakpointProvider?.matchedBreakpoints || ['base'];\n  let {styleProps} = useStyleProps(otherProps);\n  let {styleProps: flexStyle} = useStyleProps(otherProps, flexStyleProps);\n  let domRef = useDOMRef(ref);\n  let isSSR = useIsSSR();\n\n  // If a gap property is specified, and there is no native support or we're in SSR, use a shim.\n  // Two divs are required for this: the outer one contains most style properties, and the inner\n  // one is the flex container. Each item inside the flex container gets a margin around it based\n  // on the gap, and the flex container has a negative margin to counteract this. The outer container\n  // is necessary to allow nesting of flex containers with gaps, so that the inner CSS variable doesn't\n  // override the outer one.\n  if ((props.gap || props.rowGap || props.columnGap) && (isSSR || !isFlexGapSupported())) {\n    let style = {\n      ...flexStyle.style,\n      '--column-gap': props.columnGap != null ? responsiveDimensionValue(props.columnGap, matchedBreakpoints) : undefined,\n      '--row-gap': props.rowGap != null ? responsiveDimensionValue(props.rowGap, matchedBreakpoints) : undefined,\n      '--gap': props.gap != null ? responsiveDimensionValue(props.gap, matchedBreakpoints) : undefined\n    };\n\n    return (\n      <div {...filterDOMProps(otherProps)} {...styleProps} className={classNames(styles, 'flex-container', styleProps.className)} ref={domRef}>\n        <div className={classNames(styles, 'flex', 'flex-gap')} style={style}>\n          {children}\n        </div>\n      </div>\n    );\n  }\n\n  // If no gaps, or native support exists, then we only need to render a single div.\n  let style = {\n    ...styleProps.style,\n    ...flexStyle.style\n  };\n\n  if (props.gap != null) {\n    style.gap = responsiveDimensionValue(props.gap, matchedBreakpoints);\n  }\n\n  if (props.columnGap != null) {\n    style.columnGap = responsiveDimensionValue(props.columnGap, matchedBreakpoints);\n  }\n\n  if (props.rowGap != null) {\n    style.rowGap = responsiveDimensionValue(props.rowGap, matchedBreakpoints);\n  }\n\n  return (\n    <div {...filterDOMProps(otherProps)} className={classNames(styles, 'flex', styleProps.className)} style={style} ref={domRef}>\n      {children}\n    </div>\n  );\n}\n\n/**\n * Normalize 'start' and 'end' alignment values to 'flex-start' and 'flex-end'\n * in flex containers for browser compatibility.\n */\nfunction flexAlignValue(value) {\n  if (value === 'start') {\n    return 'flex-start';\n  }\n\n  if (value === 'end') {\n    return 'flex-end';\n  }\n\n  return value;\n}\n\n/**\n * Takes a boolean and translates it to flex wrap or nowrap.\n */\nfunction flexWrapValue(value) {\n  if (typeof value === 'boolean') {\n    return value ? 'wrap' : 'nowrap';\n  }\n\n  return value;\n}\n\n\n// Original licensing for the following method can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/Modernizr/Modernizr/blob/7efb9d0edd66815fb115fdce95fabaf019ce8db5/feature-detects/css/flexgap.js\n\nlet _isFlexGapSupported = null;\nfunction isFlexGapSupported() {\n  if (_isFlexGapSupported != null) {\n    return _isFlexGapSupported;\n  }\n\n  if (typeof document === 'undefined') {\n    return false;\n  }\n\n  // create flex container with row-gap set\n  var flex = document.createElement('div');\n  flex.style.display = 'flex';\n  flex.style.flexDirection = 'column';\n  flex.style.rowGap = '1px';\n\n  // create two, elements inside it\n  flex.appendChild(document.createElement('div'));\n  flex.appendChild(document.createElement('div'));\n\n  // append to the DOM (needed to obtain scrollHeight)\n  document.body.appendChild(flex);\n  _isFlexGapSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n  flex.parentNode.removeChild(flex);\n\n  return _isFlexGapSupported;\n}\n\n/**\n * A layout container using flexbox. Provides Spectrum dimension values, and supports the gap\n * property to define consistent spacing between items.\n */\nconst _Flex = forwardRef(Flex);\nexport {_Flex as Flex};\n","function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n\nvar $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = ShowMenu;\n\nvar _ShowMenu = require(\"@adobe/react-spectrum-workflow/dist/ShowMenu\");\n\nvar _icon = require(\"@react-spectrum/icon\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction ShowMenu(props) {\n  return /*#__PURE__*/_react.default.createElement(_icon.Icon, props, /*#__PURE__*/_react.default.createElement(_ShowMenu.A4uShowMenu, null));\n}","/**\n* @adobe/react-spectrum-workflow (c) by Adobe\n* \n* @adobe/react-spectrum-workflow is licensed under a\n* Creative Commons Attribution-NoDerivatives 4.0 International License.\n* \n* You should have received a copy of the license along with this\n* work. If not, see <http://creativecommons.org/licenses/by-nd/4.0/>.\n**/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.A4uShowMenu = A4uShowMenu;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _util = require(\"./util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction A4uShowMenu(_ref) {\n  var _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 'M' : _ref$scale,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'LIGHT' : _ref$color,\n      props = _objectWithoutProperties(_ref, [\"scale\", \"color\"]);\n\n  return _react[\"default\"].createElement(\"svg\", _extends({\n    viewBox: _util.viewBoxes[scale]\n  }, props, props), _react[\"default\"].createElement(\"rect\", {\n    height: 4,\n    rx: 1,\n    ry: 1,\n    width: 28,\n    x: 4,\n    y: 16\n  }), _react[\"default\"].createElement(\"rect\", {\n    height: 4,\n    rx: 1,\n    ry: 1,\n    width: 28,\n    x: 4,\n    y: 6\n  }), _react[\"default\"].createElement(\"rect\", {\n    height: 4,\n    rx: 1,\n    ry: 1,\n    width: 28,\n    x: 4,\n    y: 26\n  }));\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = Close;\n\nvar _Close = require(\"@adobe/react-spectrum-workflow/dist/Close\");\n\nvar _icon = require(\"@react-spectrum/icon\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction Close(props) {\n  return /*#__PURE__*/_react.default.createElement(_icon.Icon, props, /*#__PURE__*/_react.default.createElement(_Close.A4uClose, null));\n}","/**\n* @adobe/react-spectrum-workflow (c) by Adobe\n* \n* @adobe/react-spectrum-workflow is licensed under a\n* Creative Commons Attribution-NoDerivatives 4.0 International License.\n* \n* You should have received a copy of the license along with this\n* work. If not, see <http://creativecommons.org/licenses/by-nd/4.0/>.\n**/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.A4uClose = A4uClose;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _util = require(\"./util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction A4uClose(_ref) {\n  var _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 'M' : _ref$scale,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'LIGHT' : _ref$color,\n      props = _objectWithoutProperties(_ref, [\"scale\", \"color\"]);\n\n  return _react[\"default\"].createElement(\"svg\", _extends({\n    viewBox: _util.viewBoxes[scale]\n  }, props, props), _react[\"default\"].createElement(\"path\", {\n    d: \"M26.485 6.686L18 15.172 9.515 6.686a1 1 0 0 0-1.414 0L6.686 8.1a1 1 0 0 0 0 1.414L15.172 18l-8.486 8.485a1 1 0 0 0 0 1.414L8.1 29.314a1 1 0 0 0 1.414 0L18 20.828l8.485 8.486a1 1 0 0 0 1.414 0l1.415-1.414a1 1 0 0 0 0-1.414L20.828 18l8.486-8.485a1 1 0 0 0 0-1.414L27.9 6.686a1 1 0 0 0-1.415 0z\"\n  }));\n}","/**\n* @adobe/react-spectrum-ui (c) by Adobe\n* \n* @adobe/react-spectrum-ui is licensed under a\n* Creative Commons Attribution-NoDerivatives 4.0 International License.\n* \n* You should have received a copy of the license along with this\n* work. If not, see <http://creativecommons.org/licenses/by-nd/4.0/>.\n**/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckmarkMedium = CheckmarkMedium;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction CheckmarkMedium(_ref) {\n  var _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 'M' : _ref$scale,\n      props = _objectWithoutProperties(_ref, [\"scale\"]);\n\n  return _react[\"default\"].createElement(\"svg\", _extends({}, props, props), scale === 'L' && _react[\"default\"].createElement(\"path\", {\n    d: \"M6 14a1 1 0 0 1-.789-.385l-4-5a1 1 0 1 1 1.577-1.23L6 11.376l7.213-8.99a1 1 0 1 1 1.576 1.23l-8 10a1 1 0 0 1-.789.384z\"\n  }), scale === 'M' && _react[\"default\"].createElement(\"path\", {\n    d: \"M4.5 10a1.022 1.022 0 0 1-.799-.384l-2.488-3a1 1 0 0 1 1.576-1.233L4.5 7.376l4.712-5.991a1 1 0 1 1 1.576 1.23l-5.51 7A.978.978 0 0 1 4.5 10z\"\n  }));\n}\n\nCheckmarkMedium.displayName = 'CheckmarkMedium';","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = GraphDonut;\n\nvar _GraphDonut = require(\"@adobe/react-spectrum-workflow/dist/GraphDonut\");\n\nvar _icon = require(\"@react-spectrum/icon\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction GraphDonut(props) {\n  return /*#__PURE__*/_react.default.createElement(_icon.Icon, props, /*#__PURE__*/_react.default.createElement(_GraphDonut.A4uGraphDonut, null));\n}","/**\n* @adobe/react-spectrum-workflow (c) by Adobe\n* \n* @adobe/react-spectrum-workflow is licensed under a\n* Creative Commons Attribution-NoDerivatives 4.0 International License.\n* \n* You should have received a copy of the license along with this\n* work. If not, see <http://creativecommons.org/licenses/by-nd/4.0/>.\n**/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.A4uGraphDonut = A4uGraphDonut;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _util = require(\"./util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction A4uGraphDonut(_ref) {\n  var _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 'M' : _ref$scale,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'LIGHT' : _ref$color,\n      props = _objectWithoutProperties(_ref, [\"scale\", \"color\"]);\n\n  return _react[\"default\"].createElement(\"svg\", _extends({\n    viewBox: _util.viewBoxes[scale]\n  }, props, props), _react[\"default\"].createElement(\"path\", {\n    d: \"M20 2.728v7.19a.489.489 0 0 0 .353.466 7.96 7.96 0 0 1 0 15.234.489.489 0 0 0-.353.466v7.189a.513.513 0 0 0 .587.506 15.986 15.986 0 0 0 0-31.555.513.513 0 0 0-.587.504zM12.959 11.827a8.036 8.036 0 0 1 2.69-1.444A.486.486 0 0 0 16 9.92V2.729a.514.514 0 0 0-.587-.506A15.977 15.977 0 0 0 6.3 7.111a.511.511 0 0 0 .1.767l5.98 3.982a.485.485 0 0 0 .579-.033zM10 18a7.914 7.914 0 0 1 .333-2.275.486.486 0 0 0-.193-.551L4.168 11.2a.513.513 0 0 0-.748.206 15.989 15.989 0 0 0 11.993 22.371.513.513 0 0 0 .587-.506v-7.188a.489.489 0 0 0-.353-.466A7.977 7.977 0 0 1 10 18z\"\n  }));\n}","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ClearSlots, useDOMRef, useSlotProps, useStyleProps, viewStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {filterDOMProps} from '@react-aria/utils';\nimport React, {forwardRef} from 'react';\nimport {ViewProps} from '@react-types/view';\n\nfunction View(props: ViewProps, ref: DOMRef) {\n  props = useSlotProps(props);\n  let {\n    elementType: ElementType = 'div',\n    children,\n    ...otherProps\n  } = props;\n  let {styleProps} = useStyleProps(props, viewStyleProps);\n  let domRef = useDOMRef(ref);\n\n  return (\n    <ElementType\n      {...filterDOMProps(otherProps)}\n      {...styleProps}\n      ref={domRef}>\n      <ClearSlots>\n        {children}\n      </ClearSlots>\n    </ElementType>\n  );\n}\n\n/**\n * View is a general purpose container with no specific semantics that can be used for custom styling purposes.\n * It supports Spectrum style props to ensure consistency with other Spectrum components.\n */\nconst _View = forwardRef(View);\nexport {_View as View};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ClearSlots, useDOMRef, useSlotProps} from '@react-spectrum/utils';\nimport {ContentProps} from '@react-types/view';\nimport {DOMRef} from '@react-types/shared';\nimport {filterDOMProps} from '@react-aria/utils';\nimport React, {forwardRef} from 'react';\nimport {useStyleProps} from '@react-spectrum/utils';\n\nfunction Content(props: ContentProps, ref: DOMRef) {\n  props = useSlotProps(props, 'content');\n  let {\n    children,\n    ...otherProps\n  } = props;\n  let {styleProps} = useStyleProps(otherProps);\n  let domRef = useDOMRef(ref);\n\n  return (\n    <section {...filterDOMProps(otherProps)} {...styleProps} ref={domRef}>\n      <ClearSlots>\n        {children}\n      </ClearSlots>\n    </section>\n  );\n}\n\n/**\n * Content represents the primary content within a Spectrum container.\n */\nconst _Content = forwardRef(Content);\nexport {_Content as Content};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Key} from 'react';\n\n/**\n * A Selection is a special Set containing Keys, which also has an anchor\n * and current selected key for use when range selecting.\n */\nexport class Selection extends Set<Key> {\n  anchorKey: Key;\n  currentKey: Key;\n\n  constructor(keys?: Iterable<Key> | Selection, anchorKey?: Key, currentKey?: Key) {\n    super(keys);\n    if (keys instanceof Selection) {\n      this.anchorKey = anchorKey || keys.anchorKey;\n      this.currentKey = currentKey || keys.currentKey;\n    } else {\n      this.anchorKey = anchorKey;\n      this.currentKey = currentKey;\n    }\n  }\n}\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Key, useMemo, useRef, useState} from 'react';\nimport {MultipleSelection, SelectionMode} from '@react-types/shared';\nimport {MultipleSelectionState} from './types';\nimport {Selection} from './Selection';\nimport {useControlledState} from '@react-stately/utils';\n\n/**\n * Manages state for multiple selection and focus in a collection.\n */\nexport function useMultipleSelectionState(props: MultipleSelection): MultipleSelectionState {\n  let {\n    selectionMode = 'none' as SelectionMode,\n    disallowEmptySelection\n  } = props;\n\n  // We want synchronous updates to `isFocused` and `focusedKey` after their setters are called.\n  // But we also need to trigger a react re-render. So, we have both a ref (sync) and state (async).\n  let isFocusedRef = useRef(false);\n  let [, setFocused] = useState(false);\n  let focusedKeyRef = useRef(null);\n  let childFocusStrategyRef = useRef(null);\n  let [, setFocusedKey] = useState(null);\n  let selectedKeysProp = useMemo(() => convertSelection(props.selectedKeys), [props.selectedKeys]);\n  let defaultSelectedKeys = useMemo(() => convertSelection(props.defaultSelectedKeys, new Selection()), [props.defaultSelectedKeys]);\n  let [selectedKeys, setSelectedKeys] = useControlledState(\n    selectedKeysProp,\n    defaultSelectedKeys,\n    props.onSelectionChange\n  );\n  let disabledKeysProp = useMemo(() =>\n    props.disabledKeys ? new Set(props.disabledKeys) : new Set<Key>()\n  , [props.disabledKeys]);\n\n  return {\n    selectionMode,\n    disallowEmptySelection,\n    get isFocused() {\n      return isFocusedRef.current;\n    },\n    setFocused(f) {\n      isFocusedRef.current = f;\n      setFocused(f);\n    },\n    get focusedKey() {\n      return focusedKeyRef.current;\n    },\n    get childFocusStrategy() {\n      return childFocusStrategyRef.current;\n    },\n    setFocusedKey(k, childFocusStrategy = 'first') {\n      focusedKeyRef.current = k;\n      childFocusStrategyRef.current = childFocusStrategy;\n      setFocusedKey(k);\n    },\n    selectedKeys,\n    setSelectedKeys,\n    disabledKeys: disabledKeysProp\n  };\n}\n\nfunction convertSelection(selection: 'all' | Iterable<Key>, defaultValue?: Selection): 'all' | Selection {\n  if (!selection) {\n    return defaultValue;\n  }\n\n  return selection === 'all'\n    ? 'all'\n    : new Selection(selection);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, FocusStrategy, Selection as ISelection, Node, PressEvent, SelectionMode} from '@react-types/shared';\nimport {Key} from 'react';\nimport {MultipleSelectionManager, MultipleSelectionState} from './types';\nimport {Selection} from './Selection';\n\ninterface SelectionManagerOptions {\n  allowsCellSelection?: boolean\n}\n\n/**\n * An interface for reading and updating multiple selection state.\n */\nexport class SelectionManager implements MultipleSelectionManager {\n  private collection: Collection<Node<unknown>>;\n  private state: MultipleSelectionState;\n  private allowsCellSelection: boolean;\n  private _isSelectAll: boolean;\n\n  constructor(collection: Collection<Node<unknown>>, state: MultipleSelectionState, options?: SelectionManagerOptions) {\n    this.collection = collection;\n    this.state = state;\n    this.allowsCellSelection = options?.allowsCellSelection ?? false;\n    this._isSelectAll = null;\n  }\n\n  /**\n   * The type of selection that is allowed in the collection.\n   */\n  get selectionMode(): SelectionMode {\n    return this.state.selectionMode;\n  }\n\n  /**\n   * Whether the collection allows empty selection.\n   */\n  get disallowEmptySelection(): boolean {\n    return this.state.disallowEmptySelection;\n  }\n\n  /**\n   * Whether the collection is currently focused.\n   */\n  get isFocused(): boolean {\n    return this.state.isFocused;\n  }\n\n  /**\n   * Sets whether the collection is focused.\n   */\n  setFocused(isFocused: boolean) {\n    this.state.setFocused(isFocused);\n  }\n\n  /**\n   * The current focused key in the collection.\n   */\n  get focusedKey(): Key {\n    return this.state.focusedKey;\n  }\n\n  /** Whether the first or last child of the focused key should receive focus. */\n  get childFocusStrategy(): FocusStrategy {\n    return this.state.childFocusStrategy;\n  }\n\n  /**\n   * Sets the focused key.\n   */\n  setFocusedKey(key: Key, childFocusStrategy?: FocusStrategy) {\n    this.state.setFocusedKey(key, childFocusStrategy);\n  }\n\n  /**\n   * The currently selected keys in the collection.\n   */\n  get selectedKeys(): Set<Key> {\n    return this.state.selectedKeys === 'all'\n      ? new Set(this.getSelectAllKeys())\n      : this.state.selectedKeys;\n  }\n\n  /**\n   * The raw selection value for the collection.\n   * Either 'all' for select all, or a set of keys.\n   */\n  get rawSelection(): ISelection {\n    return this.state.selectedKeys;\n  }\n\n  /**\n   * Returns whether a key is selected.\n   */\n  isSelected(key: Key) {\n    if (this.state.selectionMode === 'none') {\n      return false;\n    }\n\n    key = this.getKey(key);\n    return this.state.selectedKeys === 'all' || this.state.selectedKeys.has(key);\n  }\n\n  /**\n   * Whether the selection is empty.\n   */\n  get isEmpty(): boolean {\n    return this.state.selectedKeys !== 'all' && this.state.selectedKeys.size === 0;\n  }\n\n  /**\n   * Whether all items in the collection are selected.\n   */\n  get isSelectAll(): boolean {\n    if (this.isEmpty) {\n      return false;\n    }\n\n    if (this.state.selectedKeys === 'all') {\n      return true;\n    }\n\n    if (this._isSelectAll != null) {\n      return this._isSelectAll;\n    }\n\n    let allKeys = this.getSelectAllKeys();\n    let selectedKeys = this.state.selectedKeys;\n    this._isSelectAll = allKeys.every(k => selectedKeys.has(k));\n    return this._isSelectAll;\n  }\n\n  get firstSelectedKey(): Key | null {\n    let first: Node<unknown> | null = null;\n    for (let key of this.state.selectedKeys) {\n      let item = this.collection.getItem(key);\n      if (!first || item?.index < first.index) {\n        first = item;\n      }\n    }\n\n    return first?.key;\n  }\n\n  get lastSelectedKey(): Key | null {\n    let last: Node<unknown> | null = null;\n    for (let key of this.state.selectedKeys) {\n      let item = this.collection.getItem(key);\n      if (!last || item?.index > last.index) {\n        last = item;\n      }\n    }\n\n    return last?.key;\n  }\n\n  /**\n   * Extends the selection to the given key.\n   */\n  extendSelection(toKey: Key) {\n    toKey = this.getKey(toKey);\n\n    let selection: Selection;\n\n    // Only select the one key if coming from a select all.\n    if (this.state.selectedKeys === 'all') {\n      selection = new Selection([toKey], toKey, toKey);\n    } else {\n      let selectedKeys = this.state.selectedKeys as Selection;\n      let anchorKey = selectedKeys.anchorKey || toKey;\n      selection = new Selection(selectedKeys, anchorKey, toKey);\n      for (let key of this.getKeyRange(anchorKey, selectedKeys.currentKey || toKey)) {\n        selection.delete(key);\n      }\n\n      for (let key of this.getKeyRange(toKey, anchorKey)) {\n        if (!this.state.disabledKeys.has(key)) {\n          selection.add(key);\n        }\n      }\n    }\n\n    this.state.setSelectedKeys(selection);\n  }\n\n  private getKeyRange(from: Key, to: Key) {\n    let fromItem = this.collection.getItem(from);\n    let toItem = this.collection.getItem(to);\n    if (fromItem && toItem) {\n      if (fromItem.index <= toItem.index) {\n        return this.getKeyRangeInternal(from, to);\n      }\n\n      return this.getKeyRangeInternal(to, from);\n    }\n\n    return [];\n  }\n\n  private getKeyRangeInternal(from: Key, to: Key) {\n    let keys: Key[] = [];\n    let key = from;\n    while (key) {\n      let item = this.collection.getItem(key);\n      if (item && item.type === 'item' || (item.type === 'cell' && this.allowsCellSelection)) {\n        keys.push(key);\n      }\n\n      if (key === to) {\n        return keys;\n      }\n\n      key = this.collection.getKeyAfter(key);\n    }\n\n    return [];\n  }\n\n  private getKey(key: Key) {\n    let item = this.collection.getItem(key);\n    if (!item) {\n      // ¯\\_(ツ)_/¯\n      return key;\n    }\n\n    // If cell selection is allowed, just return the key.\n    if (item.type === 'cell' && this.allowsCellSelection) {\n      return key;\n    }\n\n    // Find a parent item to select\n    while (item.type !== 'item' && item.parentKey) {\n      item = this.collection.getItem(item.parentKey);\n    }\n\n    if (!item || item.type !== 'item') {\n      return null;\n    }\n\n    return item.key;\n  }\n\n  /**\n   * Toggles whether the given key is selected.\n   */\n  toggleSelection(key: Key) {\n    key = this.getKey(key);\n    if (key == null) {\n      return;\n    }\n\n    let keys = new Selection(this.state.selectedKeys === 'all' ? this.getSelectAllKeys() : this.state.selectedKeys);\n    if (keys.has(key)) {\n      keys.delete(key);\n      // TODO: move anchor to last selected key...\n      // Does `current` need to move here too?\n    } else {\n      keys.add(key);\n      keys.anchorKey = key;\n      keys.currentKey = key;\n    }\n\n    this.state.setSelectedKeys(keys);\n  }\n\n  /**\n   * Replaces the selection with only the given key.\n   */\n  replaceSelection(key: Key) {\n    key = this.getKey(key);\n    if (key == null) {\n      return;\n    }\n\n    this.state.setSelectedKeys(new Selection([key], key, key));\n  }\n\n  /**\n   * Replaces the selection with the given keys.\n   */\n  setSelectedKeys(keys: Iterable<Key>) {\n    if (this.selectionMode === 'none') {\n      return;\n    }\n\n    let selection = new Selection();\n    for (let key of keys) {\n      key = this.getKey(key);\n      if (key != null) {\n        selection.add(key);\n        if (this.selectionMode === 'single') {\n          break;\n        }\n      }\n    }\n\n    this.state.setSelectedKeys(selection);\n  }\n\n  private getSelectAllKeys() {\n    let keys: Key[] = [];\n    let addKeys = (key: Key) => {\n      while (key) {\n        if (!this.state.disabledKeys.has(key)) {\n          let item = this.collection.getItem(key);\n          if (item.type === 'item') {\n            keys.push(key);\n          }\n\n          // Add child keys. If cell selection is allowed, then include item children too.\n          if (item.hasChildNodes && (this.allowsCellSelection || item.type !== 'item')) {\n            addKeys([...item.childNodes][0].key);\n          }\n        }\n\n        key = this.collection.getKeyAfter(key);\n      }\n    };\n\n    addKeys(this.collection.getFirstKey());\n    return keys;\n  }\n\n  /**\n   * Selects all items in the collection.\n   */\n  selectAll() {\n    if (this.selectionMode === 'multiple') {\n      this.state.setSelectedKeys('all');\n    }\n  }\n\n  /**\n   * Removes all keys from the selection.\n   */\n  clearSelection() {\n    if (this.state.selectedKeys === 'all' || this.state.selectedKeys.size > 0) {\n      this.state.setSelectedKeys(new Selection());\n    }\n  }\n\n  /**\n   * Toggles between select all and an empty selection.\n   */\n  toggleSelectAll() {\n    if (this.isSelectAll) {\n      this.clearSelection();\n    } else {\n      this.selectAll();\n    }\n  }\n\n  select(key: Key, e?: PressEvent | PointerEvent) {\n    if (this.selectionMode === 'none') {\n      return;\n    }\n\n    if (this.selectionMode === 'single') {\n      if (this.isSelected(key) && !this.disallowEmptySelection) {\n        this.toggleSelection(key);\n      } else {\n        this.replaceSelection(key);\n      }\n    } else if (e && e.shiftKey) {\n      this.extendSelection(key);\n    } else {\n      this.toggleSelection(key);\n    }\n  }\n\n  /**\n   * Returns whether the current selection is equal to the given selection.\n   */\n  isSelectionEqual(selection: Set<Key>) {\n    if (selection === this.state.selectedKeys) {\n      return true;\n    }\n\n    // Check if the set of keys match.\n    let selectedKeys = this.selectedKeys;\n    if (selection.size !== selectedKeys.size) {\n      return false;\n    }\n\n    for (let key of selection) {\n      if (!selectedKeys.has(key)) {\n        return false;\n      }\n    }\n\n    for (let key of selectedKeys) {\n      if (!selection.has(key)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, Node} from '@react-types/shared';\nimport {Key} from 'react';\n\nexport class TreeCollection<T> implements Collection<Node<T>> {\n  private keyMap: Map<Key, Node<T>> = new Map();\n  private iterable: Iterable<Node<T>>;\n  private firstKey: Key;\n  private lastKey: Key;\n\n  constructor(nodes: Iterable<Node<T>>, {expandedKeys}: {expandedKeys?: Set<Key>} = {}) {\n    this.iterable = nodes;\n    expandedKeys = expandedKeys || new Set();\n\n    let visit = (node: Node<T>) => {\n      this.keyMap.set(node.key, node);\n\n      if (node.childNodes && (node.type === 'section' || expandedKeys.has(node.key))) {\n        for (let child of node.childNodes) {\n          visit(child);\n        }\n      }\n    };\n\n    for (let node of nodes) {\n      visit(node);\n    }\n\n    let last: Node<T>;\n    let index = 0;\n    for (let [key, node] of this.keyMap) {\n      if (last) {\n        last.nextKey = key;\n        node.prevKey = last.key;\n      } else {\n        this.firstKey = key;\n        node.prevKey = undefined;\n      }\n\n      if (node.type === 'item') {\n        node.index = index++;\n      }\n\n      last = node;\n\n      // Set nextKey as undefined since this might be the last node\n      // If it isn't the last node, last.nextKey will properly set at start of new loop\n      last.nextKey = undefined;\n    }\n\n    this.lastKey = last?.key;\n  }\n\n  *[Symbol.iterator]() {\n    yield* this.iterable;\n  }\n\n  get size() {\n    return this.keyMap.size;\n  }\n\n  getKeys() {\n    return this.keyMap.keys();\n  }\n\n  getKeyBefore(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.prevKey : null;\n  }\n\n  getKeyAfter(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.nextKey : null;\n  }\n\n  getFirstKey() {\n    return this.firstKey;\n  }\n\n  getLastKey() {\n    return this.lastKey;\n  }\n\n  getItem(key: Key) {\n    return this.keyMap.get(key);\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, CollectionBase, Expandable, MultipleSelection, Node} from '@react-types/shared';\nimport {Key, useEffect, useMemo} from 'react';\nimport {SelectionManager, useMultipleSelectionState} from '@react-stately/selection';\nimport {TreeCollection} from './TreeCollection';\nimport {useCollection} from '@react-stately/collections';\nimport {useControlledState} from '@react-stately/utils';\n\nexport interface TreeProps<T> extends CollectionBase<T>, Expandable, MultipleSelection {}\nexport interface TreeState<T> {\n  /** A collection of items in the tree. */\n  readonly collection: Collection<Node<T>>,\n\n  /** A set of keys for items that are disabled. */\n  readonly disabledKeys: Set<Key>,\n\n  /** A set of keys for items that are expanded. */\n  readonly expandedKeys: Set<Key>,\n\n  /** Toggles the expanded state for an item by its key. */\n  toggleKey(key: Key): void,\n\n  /** A selection manager to read and update multiple selection state. */\n  readonly selectionManager: SelectionManager\n}\n\n/**\n * Provides state management for tree-like components. Handles building a collection\n * of items from props, item expanded state, and manages multiple selection state.\n */\nexport function useTreeState<T extends object>(props: TreeProps<T>): TreeState<T> {\n  let [expandedKeys, setExpandedKeys] = useControlledState(\n    props.expandedKeys ? new Set(props.expandedKeys) : undefined,\n    props.defaultExpandedKeys ? new Set(props.defaultExpandedKeys) : new Set(),\n    props.onExpandedChange\n  );\n\n  let selectionState = useMultipleSelectionState(props);\n  let disabledKeys = useMemo(() =>\n    props.disabledKeys ? new Set(props.disabledKeys) : new Set<Key>()\n  , [props.disabledKeys]);\n\n  let tree = useCollection(props, nodes => new TreeCollection(nodes, {expandedKeys}), null, [expandedKeys]);\n\n  // Reset focused key if that item is deleted from the collection.\n  useEffect(() => {\n    if (selectionState.focusedKey != null && !tree.getItem(selectionState.focusedKey)) {\n      selectionState.setFocusedKey(null);\n    }\n  }, [tree, selectionState.focusedKey]);\n\n  let onToggle = (key: Key) => {\n    setExpandedKeys(expandedKeys => toggleKey(expandedKeys, key));\n  };\n\n  return {\n    collection: tree,\n    expandedKeys,\n    disabledKeys,\n    toggleKey: onToggle,\n    selectionManager: new SelectionManager(tree, selectionState)\n  };\n}\n\nfunction toggleKey(set: Set<Key>, key: Key): Set<Key> {\n  let res = new Set(set);\n  if (res.has(key)) {\n    res.delete(key);\n  } else {\n    res.add(key);\n  }\n\n  return res;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusStrategy} from '@react-types/shared';\nimport {MenuTriggerProps} from '@react-types/menu';\nimport {OverlayTriggerState, useOverlayTriggerState} from '@react-stately/overlays';\nimport {useState} from 'react';\n\nexport interface MenuTriggerState extends OverlayTriggerState {\n  /** Controls which item will be auto focused when the menu opens. */\n  readonly focusStrategy: FocusStrategy,\n\n  /** Opens the menu. */\n  open(focusStrategy?: FocusStrategy | null): void,\n\n  /** Toggles the menu. */\n  toggle(focusStrategy?: FocusStrategy | null): void\n}\n\n/**\n * Manages state for a menu trigger. Tracks whether the menu is currently open,\n * and controls which item will receive focus when it opens.\n */\nexport function useMenuTriggerState(props: MenuTriggerProps): MenuTriggerState  {\n  let overlayTriggerState = useOverlayTriggerState(props);\n  let [focusStrategy, setFocusStrategy] = useState<FocusStrategy>(null);\n\n  return {\n    focusStrategy,\n    ...overlayTriggerState,\n    open(focusStrategy: FocusStrategy = null) {\n      setFocusStrategy(focusStrategy);\n      overlayTriggerState.open();\n    },\n    toggle(focusStrategy: FocusStrategy = null) {\n      setFocusStrategy(focusStrategy);\n      overlayTriggerState.toggle();\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {OverlayTriggerProps} from '@react-types/overlays';\nimport {useControlledState} from '@react-stately/utils';\n\nexport interface OverlayTriggerState {\n  /** Whether the overlay is currently open. */\n  readonly isOpen: boolean,\n  /** Opens the overlay. */\n  open(): void,\n  /** Closes the overlay. */\n  close(): void,\n  /** Toggles the overlay's visibility. */\n  toggle(): void\n}\n\n/**\n * Manages state for an overlay trigger. Tracks whether the overlay is open, and provides\n * methods to toggle this state.\n */\nexport function useOverlayTriggerState(props: OverlayTriggerProps): OverlayTriggerState  {\n  let [isOpen, setOpen] = useControlledState(props.isOpen, props.defaultOpen || false, props.onOpenChange);\n\n  return {\n    isOpen,\n    open() {\n      setOpen(true);\n    },\n    close() {\n      setOpen(false);\n    },\n    toggle() {\n      setOpen(!isOpen);\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusEvent, HTMLAttributes, Key, KeyboardEvent, RefObject, useEffect} from 'react';\nimport {focusSafely, getFocusableTreeWalker} from '@react-aria/focus';\nimport {FocusStrategy, KeyboardDelegate} from '@react-types/shared';\nimport {focusWithoutScrolling, isMac, mergeProps} from '@react-aria/utils';\nimport {MultipleSelectionManager} from '@react-stately/selection';\nimport {useLocale} from '@react-aria/i18n';\nimport {useTypeSelect} from './useTypeSelect';\n\nfunction isCtrlKeyPressed(e: KeyboardEvent) {\n  if (isMac()) {\n    return e.metaKey;\n  }\n\n  return e.ctrlKey;\n}\n\ninterface SelectableCollectionOptions {\n  /**\n   * An interface for reading and updating multiple selection state.\n   */\n  selectionManager: MultipleSelectionManager,\n  /**\n   * A delegate object that implements behavior for keyboard focus movement.\n   */\n  keyboardDelegate: KeyboardDelegate,\n  /**\n   * The ref attached to the element representing the collection.\n   */\n  ref: RefObject<HTMLElement>,\n  /**\n   * Whether the collection or one of its items should be automatically focused upon render.\n   * @default false\n   */\n  autoFocus?: boolean | FocusStrategy,\n  /**\n   * Whether focus should wrap around when the end/start is reached.\n   * @default false\n   */\n  shouldFocusWrap?: boolean,\n  /**\n   * Whether the collection allows empty selection.\n   * @default false\n   */\n  disallowEmptySelection?: boolean,\n  /**\n   * Whether the collection allows the user to select all items via keyboard shortcut.\n   * @default false\n   */\n  disallowSelectAll?: boolean,\n  /**\n   * Whether selection should occur automatically on focus.\n   * @default false\n   */\n  selectOnFocus?: boolean,\n  /**\n   * Whether typeahead is disabled.\n   * @default false\n   */\n  disallowTypeAhead?: boolean,\n  /**\n   * Whether the collection items should use virtual focus instead of being focused directly.\n   */\n  shouldUseVirtualFocus?: boolean,\n  /**\n   * Whether navigation through tab key is enabled.\n   */\n  allowsTabNavigation?: boolean\n}\n\ninterface SelectableCollectionAria {\n  /** Props for the collection element. */\n  collectionProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles interactions with selectable collections.\n */\nexport function useSelectableCollection(options: SelectableCollectionOptions): SelectableCollectionAria {\n  let {\n    selectionManager: manager,\n    keyboardDelegate: delegate,\n    ref,\n    autoFocus = false,\n    shouldFocusWrap = false,\n    disallowEmptySelection = false,\n    disallowSelectAll = false,\n    selectOnFocus = false,\n    disallowTypeAhead = false,\n    shouldUseVirtualFocus,\n    allowsTabNavigation = false\n  } = options;\n  let {direction} = useLocale();\n\n  let onKeyDown = (e: KeyboardEvent) => {\n    // Let child element (e.g. menu button) handle the event if the Alt key is pressed.\n    // Keyboard events bubble through portals. Don't handle keyboard events\n    // for elements outside the collection (e.g. menus).\n    if (e.altKey || !ref.current.contains(e.target as HTMLElement)) {\n      return;\n    }\n\n    const navigateToKey = (key: Key | undefined, childFocus?: FocusStrategy) => {\n      if (key != null) {\n        manager.setFocusedKey(key, childFocus);\n\n        if (e.shiftKey && manager.selectionMode === 'multiple') {\n          manager.extendSelection(key);\n        } else if (selectOnFocus) {\n          manager.replaceSelection(key);\n        }\n      }\n    };\n\n    switch (e.key) {\n      case 'ArrowDown': {\n        if (delegate.getKeyBelow) {\n          e.preventDefault();\n          let nextKey = manager.focusedKey != null\n              ? delegate.getKeyBelow(manager.focusedKey)\n              : delegate.getFirstKey?.();\n          if (nextKey == null && shouldFocusWrap) {\n            nextKey = delegate.getFirstKey?.(manager.focusedKey);\n          }\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case 'ArrowUp': {\n        if (delegate.getKeyAbove) {\n          e.preventDefault();\n          let nextKey = manager.focusedKey != null\n              ? delegate.getKeyAbove(manager.focusedKey)\n              : delegate.getLastKey?.();\n          if (nextKey == null && shouldFocusWrap) {\n            nextKey = delegate.getLastKey?.(manager.focusedKey);\n          }\n          navigateToKey(nextKey);\n        }\n        break;\n      }\n      case 'ArrowLeft': {\n        if (delegate.getKeyLeftOf) {\n          e.preventDefault();\n          let nextKey = delegate.getKeyLeftOf(manager.focusedKey);\n          navigateToKey(nextKey, direction === 'rtl' ? 'first' : 'last');\n        }\n        break;\n      }\n      case 'ArrowRight': {\n        if (delegate.getKeyRightOf) {\n          e.preventDefault();\n          let nextKey = delegate.getKeyRightOf(manager.focusedKey);\n          navigateToKey(nextKey, direction === 'rtl' ? 'last' : 'first');\n        }\n        break;\n      }\n      case 'Home':\n        if (delegate.getFirstKey) {\n          e.preventDefault();\n          let firstKey = delegate.getFirstKey(manager.focusedKey, isCtrlKeyPressed(e));\n          manager.setFocusedKey(firstKey);\n          if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode === 'multiple') {\n            manager.extendSelection(firstKey);\n          } else if (selectOnFocus) {\n            manager.replaceSelection(firstKey);\n          }\n        }\n        break;\n      case 'End':\n        if (delegate.getLastKey) {\n          e.preventDefault();\n          let lastKey = delegate.getLastKey(manager.focusedKey, isCtrlKeyPressed(e));\n          manager.setFocusedKey(lastKey);\n          if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode === 'multiple') {\n            manager.extendSelection(lastKey);\n          } else if (selectOnFocus) {\n            manager.replaceSelection(lastKey);\n          }\n        }\n        break;\n      case 'PageDown':\n        if (delegate.getKeyPageBelow) {\n          e.preventDefault();\n          let nextKey = delegate.getKeyPageBelow(manager.focusedKey);\n          navigateToKey(nextKey);\n        }\n        break;\n      case 'PageUp':\n        if (delegate.getKeyPageAbove) {\n          e.preventDefault();\n          let nextKey = delegate.getKeyPageAbove(manager.focusedKey);\n          navigateToKey(nextKey);\n        }\n        break;\n      case 'a':\n        if (isCtrlKeyPressed(e) && manager.selectionMode === 'multiple' && disallowSelectAll !== true) {\n          e.preventDefault();\n          manager.selectAll();\n        }\n        break;\n      case 'Escape':\n        e.preventDefault();\n        if (!disallowEmptySelection) {\n          manager.clearSelection();\n        }\n        break;\n      case 'Tab': {\n        if (!allowsTabNavigation) {\n          // There may be elements that are \"tabbable\" inside a collection (e.g. in a grid cell).\n          // However, collections should be treated as a single tab stop, with arrow key navigation internally.\n          // We don't control the rendering of these, so we can't override the tabIndex to prevent tabbing.\n          // Instead, we handle the Tab key, and move focus manually to the first/last tabbable element\n          // in the collection, so that the browser default behavior will apply starting from that element\n          // rather than the currently focused one.\n          if (e.shiftKey) {\n            ref.current.focus();\n          } else {\n            let walker = getFocusableTreeWalker(ref.current, {tabbable: true});\n            let next: HTMLElement;\n            let last: HTMLElement;\n            do {\n              last = walker.lastChild() as HTMLElement;\n              if (last) {\n                next = last;\n              }\n            } while (last);\n\n            if (next && !next.contains(document.activeElement)) {\n              focusWithoutScrolling(next);\n            }\n          }\n          break;\n        }\n      }\n    }\n  };\n\n  let onFocus = (e: FocusEvent) => {\n    if (manager.isFocused) {\n      // If a focus event bubbled through a portal, reset focus state.\n      if (!e.currentTarget.contains(e.target)) {\n        manager.setFocused(false);\n      }\n\n      return;\n    }\n\n    // Focus events can bubble through portals. Ignore these events.\n    if (!e.currentTarget.contains(e.target)) {\n      return;\n    }\n\n    manager.setFocused(true);\n\n    if (manager.focusedKey == null) {\n      // If the user hasn't yet interacted with the collection, there will be no focusedKey set.\n      // Attempt to detect whether the user is tabbing forward or backward into the collection\n      // and either focus the first or last item accordingly.\n      let relatedTarget = e.relatedTarget as Element;\n      if (relatedTarget && (e.currentTarget.compareDocumentPosition(relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING)) {\n        manager.setFocusedKey(manager.lastSelectedKey ?? delegate.getLastKey());\n      } else {\n        manager.setFocusedKey(manager.firstSelectedKey ?? delegate.getFirstKey());\n      }\n    }\n  };\n\n  let onBlur = (e) => {\n    // Don't set blurred and then focused again if moving focus within the collection.\n    if (!e.currentTarget.contains(e.relatedTarget as HTMLElement)) {\n      manager.setFocused(false);\n    }\n  };\n\n  useEffect(() => {\n    if (autoFocus) {\n      let focusedKey = null;\n\n      // Check focus strategy to determine which item to focus\n      if (autoFocus === 'first') {\n        focusedKey = delegate.getFirstKey();\n      } if (autoFocus === 'last') {\n        focusedKey = delegate.getLastKey();\n      }\n\n      // If there are any selected keys, make the first one the new focus target\n      let selectedKeys = manager.selectedKeys;\n      if (selectedKeys.size) {\n        focusedKey = selectedKeys.values().next().value;\n      }\n\n      manager.setFocused(true);\n      manager.setFocusedKey(focusedKey);\n\n      // If no default focus key is selected, focus the collection itself.\n      if (focusedKey == null && !shouldUseVirtualFocus) {\n        focusSafely(ref.current);\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let handlers = {\n    onKeyDown,\n    onFocus,\n    onBlur,\n    onMouseDown(e) {\n      // Ignore events that bubbled through portals.\n      if (e.currentTarget.contains(e.target)) {\n        // Prevent focus going to the collection when clicking on the scrollbar.\n        e.preventDefault();\n      }\n    }\n  };\n\n  let {typeSelectProps} = useTypeSelect({\n    keyboardDelegate: delegate,\n    selectionManager: manager\n  });\n\n  if (!disallowTypeAhead) {\n    handlers = mergeProps(typeSelectProps, handlers);\n  }\n\n  // If nothing is focused within the collection, make the collection itself tabbable.\n  // This will be marshalled to either the first or last item depending on where focus came from.\n  // If using virtual focus, don't set a tabIndex at all so that VoiceOver on iOS 14 doesn't try\n  // to move real DOM focus to the element anyway.\n  let tabIndex: number;\n  if (!shouldUseVirtualFocus) {\n    tabIndex = manager.focusedKey == null ? 0 : -1;\n  }\n\n  return {\n    collectionProps: {\n      ...handlers,\n      tabIndex\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {HTMLAttributes, Key, KeyboardEvent, useRef} from 'react';\nimport {KeyboardDelegate} from '@react-types/shared';\nimport {MultipleSelectionManager} from '@react-stately/selection';\n\ninterface TypeSelectOptions {\n  /**\n   * A delegate that returns collection item keys with respect to visual layout.\n   */\n  keyboardDelegate: KeyboardDelegate,\n  /**\n   * An interface for reading and updating multiple selection state.\n   */\n  selectionManager: MultipleSelectionManager,\n  /**\n   * Called when an item is focused by typing.\n   */\n  onTypeSelect?: (key: Key) => void\n}\n\ninterface TypeSelectAria {\n  /**\n   * Props to be spread on the owner of the options.\n   */\n  typeSelectProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles typeahead interactions with collections.\n */\nexport function useTypeSelect(options: TypeSelectOptions): TypeSelectAria {\n  let {keyboardDelegate, selectionManager, onTypeSelect} = options;\n  let state = useRef({\n    search: '',\n    timeout: null\n  }).current;\n\n  let onKeyDown = (e: KeyboardEvent) => {\n    let character = getStringForKey(e.key);\n    if (!character || e.ctrlKey || e.metaKey) {\n      return;\n    }\n\n    // Do not propagate the Spacebar event if it's meant to be part of the search.\n    // When we time out, the search term becomes empty, hence the check on length.\n    // Trimming is to account for the case of pressing the Spacebar more than once,\n    // which should cycle through the selection/deselection of the focused item.\n    if (character === ' ' && state.search.trim().length > 0) {\n      e.preventDefault();\n      if (!('continuePropagation' in e)) {\n        e.stopPropagation();\n      }\n    }\n\n    state.search += character;\n\n    // Use the delegate to find a key to focus.\n    // Prioritize items after the currently focused item, falling back to searching the whole list.\n    let key = keyboardDelegate.getKeyForSearch(state.search, selectionManager.focusedKey);\n\n    // If no key found, search from the top.\n    if (key == null) {\n      key = keyboardDelegate.getKeyForSearch(state.search);\n    }\n\n    if (key != null) {\n      selectionManager.setFocusedKey(key);\n      if (onTypeSelect) {\n        onTypeSelect(key);\n      }\n    }\n\n    clearTimeout(state.timeout);\n    state.timeout = setTimeout(() => {\n      state.search = '';\n    }, 500);\n  };\n\n  return {\n    typeSelectProps: {\n      // Using a capturing listener to catch the keydown event before\n      // other hooks in order to handle the Spacebar event.\n      onKeyDownCapture: keyboardDelegate.getKeyForSearch ? onKeyDown : null\n    }\n  };\n}\n\nfunction getStringForKey(key: string) {\n  // If the key is of length 1, it is an ASCII value.\n  // Otherwise, if there are no ASCII characters in the key name,\n  // it is a Unicode character.\n  // See https://www.w3.org/TR/uievents-key/\n  if (key.length === 1 || !/^[A-Z]/i.test(key)) {\n    return key;\n  }\n\n  return '';\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, KeyboardDelegate, Node} from '@react-types/shared';\nimport {Key, RefObject} from 'react';\n\nexport class ListKeyboardDelegate<T> implements KeyboardDelegate {\n  private collection: Collection<Node<T>>;\n  private disabledKeys: Set<Key>;\n  private ref: RefObject<HTMLElement>;\n  private collator: Intl.Collator;\n\n  constructor(collection: Collection<Node<T>>, disabledKeys: Set<Key>, ref: RefObject<HTMLElement>, collator?: Intl.Collator) {\n    this.collection = collection;\n    this.disabledKeys = disabledKeys;\n    this.ref = ref;\n    this.collator = collator;\n  }\n\n  getKeyBelow(key: Key) {\n    key = this.collection.getKeyAfter(key);\n    while (key != null) {\n      let item = this.collection.getItem(key);\n      if (item.type === 'item' && !this.disabledKeys.has(key)) {\n        return key;\n      }\n\n      key = this.collection.getKeyAfter(key);\n    }\n  }\n\n  getKeyAbove(key: Key) {\n    key = this.collection.getKeyBefore(key);\n    while (key != null) {\n      let item = this.collection.getItem(key);\n      if (item.type === 'item' && !this.disabledKeys.has(key)) {\n        return key;\n      }\n\n      key = this.collection.getKeyBefore(key);\n    }\n  }\n\n  getFirstKey() {\n    let key = this.collection.getFirstKey();\n    while (key != null) {\n      let item = this.collection.getItem(key);\n      if (item.type === 'item' && !this.disabledKeys.has(key)) {\n        return key;\n      }\n\n      key = this.collection.getKeyAfter(key);\n    }\n  }\n\n  getLastKey() {\n    let key = this.collection.getLastKey();\n    while (key != null) {\n      let item = this.collection.getItem(key);\n      if (item.type === 'item' && !this.disabledKeys.has(key)) {\n        return key;\n      }\n\n      key = this.collection.getKeyBefore(key);\n    }\n  }\n\n  private getItem(key: Key): HTMLElement {\n    return this.ref.current.querySelector(`[data-key=\"${key}\"]`);\n  }\n\n  getKeyPageAbove(key: Key) {\n    let menu = this.ref.current;\n    let item = this.getItem(key);\n    if (!item) {\n      return null;\n    }\n\n    let pageY = Math.max(0, item.offsetTop + item.offsetHeight - menu.offsetHeight);\n\n    while (item && item.offsetTop > pageY) {\n      key = this.getKeyAbove(key);\n      item = this.getItem(key);\n    }\n\n    return key;\n  }\n\n  getKeyPageBelow(key: Key) {\n    let menu = this.ref.current;\n    let item = this.getItem(key);\n    if (!item) {\n      return null;\n    }\n\n    let pageY = Math.min(menu.scrollHeight, item.offsetTop - item.offsetHeight + menu.offsetHeight);\n\n    while (item && item.offsetTop < pageY) {\n      key = this.getKeyBelow(key);\n      item = this.getItem(key);\n    }\n\n    return key;\n  }\n\n  getKeyForSearch(search: string, fromKey?: Key) {\n    if (!this.collator) {\n      return null;\n    }\n\n    let collection = this.collection;\n    let key = fromKey || this.getFirstKey();\n    while (key != null) {\n      let item = collection.getItem(key);\n      let substring = item.textValue.slice(0, search.length);\n      if (item.textValue && this.collator.compare(substring, search) === 0) {\n        return key;\n      }\n\n      key = this.getKeyBelow(key);\n    }\n\n    return null;\n  }\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, FocusStrategy, KeyboardDelegate, Node} from '@react-types/shared';\nimport {HTMLAttributes, Key, RefObject, useEffect, useMemo} from 'react';\nimport {ListKeyboardDelegate} from './ListKeyboardDelegate';\nimport {MultipleSelectionManager} from '@react-stately/selection';\nimport {useCollator} from '@react-aria/i18n';\nimport {useSelectableCollection} from './useSelectableCollection';\n\ninterface SelectableListOptions {\n  /**\n   * An interface for reading and updating multiple selection state.\n   */\n  selectionManager: MultipleSelectionManager,\n  /**\n   * State of the collection.\n   */\n  collection: Collection<Node<unknown>>,\n  /**\n   * The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with.\n   */\n  disabledKeys: Set<Key>,\n  /**\n   * A ref to the item.\n   */\n  ref?: RefObject<HTMLElement>,\n  /**\n   * A delegate that returns collection item keys with respect to visual layout.\n   */\n  keyboardDelegate?: KeyboardDelegate,\n  /**\n   * Whether the collection or one of its items should be automatically focused upon render.\n   * @default false\n   */\n  autoFocus?: boolean | FocusStrategy,\n  /**\n   * Whether focus should wrap around when the end/start is reached.\n   * @default false\n   */\n  shouldFocusWrap?: boolean,\n  /**\n   * Whether the option is contained in a virtual scroller.\n   */\n  isVirtualized?: boolean,\n  /**\n   * Whether the collection allows empty selection.\n   * @default false\n   */\n  disallowEmptySelection?: boolean,\n  /**\n   * Whether selection should occur automatically on focus.\n   * @default false\n   */\n  selectOnFocus?: boolean,\n  /**\n   * Whether typeahead is disabled.\n   * @default false\n   */\n  disallowTypeAhead?: boolean,\n  /**\n   * Whether the collection items should use virtual focus instead of being focused directly.\n   */\n  shouldUseVirtualFocus?: boolean,\n  /**\n   * Whether navigation through tab key is enabled.\n   */\n  allowsTabNavigation?: boolean\n}\n\ninterface SelectableListAria {\n  /**\n   * Props for the option element.\n   */\n  listProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Handles interactions with a selectable list.\n */\nexport function useSelectableList(props: SelectableListOptions): SelectableListAria {\n  let {\n    selectionManager,\n    collection,\n    disabledKeys,\n    ref,\n    keyboardDelegate,\n    autoFocus,\n    shouldFocusWrap,\n    isVirtualized,\n    disallowEmptySelection,\n    selectOnFocus = false,\n    disallowTypeAhead,\n    shouldUseVirtualFocus,\n    allowsTabNavigation\n  } = props;\n\n  // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n  // When virtualized, the layout object will be passed in as a prop and override this.\n  let collator = useCollator({usage: 'search', sensitivity: 'base'});\n  let delegate = useMemo(() => keyboardDelegate || new ListKeyboardDelegate(collection, disabledKeys, ref, collator), [keyboardDelegate, collection, disabledKeys, ref, collator]);\n\n  // If not virtualized, scroll the focused element into view when the focusedKey changes.\n  // When virtualized, Virtualizer handles this internally.\n  useEffect(() => {\n    if (!isVirtualized && selectionManager.focusedKey && ref?.current) {\n      let element = ref.current.querySelector(`[data-key=\"${selectionManager.focusedKey}\"]`) as HTMLElement;\n      if (element) {\n        scrollIntoView(ref.current, element);\n      }\n    }\n  }, [isVirtualized, ref, selectionManager.focusedKey]);\n\n  let {collectionProps} = useSelectableCollection({\n    ref,\n    selectionManager,\n    keyboardDelegate: delegate,\n    autoFocus,\n    shouldFocusWrap,\n    disallowEmptySelection,\n    selectOnFocus,\n    disallowTypeAhead,\n    shouldUseVirtualFocus,\n    allowsTabNavigation\n  });\n\n  return {\n    listProps: collectionProps\n  };\n}\n\n/**\n * Scrolls `scrollView` so that `element` is visible.\n * Similar to `element.scrollIntoView({block: 'nearest'})` (not supported in Edge),\n * but doesn't affect parents above `scrollView`.\n */\nfunction scrollIntoView(scrollView: HTMLElement, element: HTMLElement) {\n  let offsetX = relativeOffset(scrollView, element, 'left');\n  let offsetY = relativeOffset(scrollView, element, 'top');\n  let width = element.offsetWidth;\n  let height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  let maxX = x + scrollView.offsetWidth;\n  let maxY = y + scrollView.offsetHeight;\n\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\n\n/**\n * Computes the offset left or top from child to ancestor by accumulating\n * offsetLeft or offsetTop through intervening offsetParents.\n */\nfunction relativeOffset(ancestor: HTMLElement, child: HTMLElement, axis: 'left'|'top') {\n  const prop = axis === 'left' ? 'offsetLeft' : 'offsetTop';\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      // Stop once we have found the ancestor we are interested in.\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      // If the ancestor is not `position:relative`, then we stop at \n      // _its_ offset parent, and we subtract off _its_ offset, so that\n      // we end up with the proper offset from child to ancestor.\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent as HTMLElement;\n  }\n  return sum;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {getItemCount} from '@react-stately/collections';\nimport {HTMLAttributes, Key, RefObject} from 'react';\nimport {isFocusVisible, useHover, usePress} from '@react-aria/interactions';\nimport {mergeProps, useSlotId} from '@react-aria/utils';\nimport {PressEvent} from '@react-types/shared';\nimport {TreeState} from '@react-stately/tree';\nimport {useSelectableItem} from '@react-aria/selection';\n\ninterface MenuItemAria {\n  /** Props for the menu item element. */\n  menuItemProps: HTMLAttributes<HTMLElement>,\n\n  /** Props for the main text element inside the menu item. */\n  labelProps: HTMLAttributes<HTMLElement>,\n\n  /** Props for the description text element inside the menu item, if any. */\n  descriptionProps: HTMLAttributes<HTMLElement>,\n\n  /** Props for the keyboard shortcut text element inside the item, if any. */\n  keyboardShortcutProps: HTMLAttributes<HTMLElement>\n}\n\ninterface AriaMenuItemProps {\n  /** Whether the menu item is disabled. */\n  isDisabled?: boolean,\n\n  /** Whether the menu item is selected. */\n  isSelected?: boolean,\n\n  /** A screen reader only label for the menu item. */\n  'aria-label'?: string,\n\n  /** The unique key for the menu item. */\n  key?: Key,\n\n  /** Handler that is called when the menu should close after selecting an item. */\n  onClose?: () => void,\n\n  /**\n   * Whether the menu should close when the menu item is selected.\n   * @default true\n   */\n  closeOnSelect?: boolean,\n\n  /** Whether the menu item is contained in a virtual scrolling menu. */\n  isVirtualized?: boolean,\n\n  /** Handler that is called when the user activates the item. */\n  onAction?: (key: Key) => void\n}\n\n/**\n * Provides the behavior and accessibility implementation for an item in a menu.\n * See `useMenu` for more details about menus.\n * @param props - Props for the item.\n * @param state - State for the menu, as returned by `useTreeState`.\n */\nexport function useMenuItem<T>(props: AriaMenuItemProps, state: TreeState<T>, ref: RefObject<HTMLElement>): MenuItemAria {\n  let {\n    isSelected,\n    isDisabled,\n    key,\n    onClose,\n    closeOnSelect,\n    isVirtualized,\n    onAction\n  } = props;\n\n  let role = 'menuitem';\n  if (state.selectionManager.selectionMode === 'single') {\n    role = 'menuitemradio';\n  } else if (state.selectionManager.selectionMode === 'multiple') {\n    role = 'menuitemcheckbox';\n  }\n\n  let labelId = useSlotId();\n  let descriptionId = useSlotId();\n  let keyboardId = useSlotId();\n\n  let ariaProps = {\n    'aria-disabled': isDisabled,\n    role,\n    'aria-label': props['aria-label'],\n    'aria-labelledby': labelId,\n    'aria-describedby': [descriptionId, keyboardId].filter(Boolean).join(' ') || undefined\n  };\n\n  if (state.selectionManager.selectionMode !== 'none') {\n    ariaProps['aria-checked'] = isSelected;\n  }\n\n  if (isVirtualized) {\n    ariaProps['aria-posinset'] = state.collection.getItem(key).index;\n    ariaProps['aria-setsize'] = getItemCount(state.collection);\n  }\n\n  let onKeyDown = (e: KeyboardEvent) => {\n    // Ignore repeating events, which may have started on the menu trigger before moving\n    // focus to the menu item. We want to wait for a second complete key press sequence.\n    if (e.repeat) {\n      return;\n    }\n\n    switch (e.key) {\n      case ' ':\n        if (!isDisabled && state.selectionManager.selectionMode === 'none' && closeOnSelect !== false && onClose) {\n          onClose();\n        }\n        break;\n      case 'Enter':\n        // The Enter key should always close on select, except if overridden.\n        if (!isDisabled && closeOnSelect !== false && onClose) {\n          onClose();\n        }\n        break;\n    }\n  };\n\n  let onPressStart = (e: PressEvent) => {\n    if (e.pointerType === 'keyboard' && onAction) {\n      onAction(key);\n    }\n  };\n\n  let onPressUp = (e: PressEvent) => {\n    if (e.pointerType !== 'keyboard') {\n      if (onAction) {\n        onAction(key);\n      }\n\n      // Pressing a menu item should close by default in single selection mode but not multiple\n      // selection mode, except if overridden by the closeOnSelect prop.\n      if (onClose && (closeOnSelect ?? state.selectionManager.selectionMode !== 'multiple')) {\n        onClose();\n      }\n    }\n  };\n\n  let {itemProps} = useSelectableItem({\n    selectionManager: state.selectionManager,\n    key,\n    ref,\n    shouldSelectOnPressUp: true\n  });\n\n  let {pressProps} = usePress(mergeProps({onPressStart, onPressUp, onKeyDown, isDisabled}, itemProps));\n  let {hoverProps} = useHover({\n    isDisabled,\n    onHoverStart() {\n      if (!isFocusVisible()) {\n        state.selectionManager.setFocused(true);\n        state.selectionManager.setFocusedKey(key);\n      }\n    }\n  });\n\n  return {\n    menuItemProps: {\n      ...ariaProps,\n      ...mergeProps(pressProps, hoverProps)\n    },\n    labelProps: {\n      id: labelId\n    },\n    descriptionProps: {\n      id: descriptionId\n    },\n    keyboardShortcutProps: {\n      id: keyboardId\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusSafely} from '@react-aria/focus';\nimport {HTMLAttributes, Key, RefObject, useEffect} from 'react';\nimport {MultipleSelectionManager} from '@react-stately/selection';\nimport {PressEvent} from '@react-types/shared';\nimport {PressProps} from '@react-aria/interactions';\n\ninterface SelectableItemOptions {\n  /**\n   * An interface for reading and updating multiple selection state.\n   */\n  selectionManager: MultipleSelectionManager,\n  /**\n   * A unique key for the item.\n   */\n  key: Key,\n  /**\n   * Ref to the item.\n   */\n  ref: RefObject<HTMLElement>,\n  /**\n   * By default, selection occurs on pointer down. This can be strange if selecting an\n   * item causes the UI to disappear immediately (e.g. menus).\n   */\n  shouldSelectOnPressUp?: boolean,\n  /**\n   * Whether the option is contained in a virtual scroller.\n   */\n  isVirtualized?: boolean,\n  /**\n   * Function to focus the item.\n   */\n  focus?: () => void,\n  /**\n   * Whether the option should use virtual focus instead of being focused directly.\n   */\n  shouldUseVirtualFocus?: boolean\n}\n\ninterface SelectableItemAria {\n  /**\n   * Props to be spread on the item root node.\n   */\n  itemProps: HTMLAttributes<HTMLElement> & PressProps\n}\n\n/**\n * Handles interactions with an item in a selectable collection.\n */\nexport function useSelectableItem(options: SelectableItemOptions): SelectableItemAria {\n  let {\n    selectionManager: manager,\n    key,\n    ref,\n    shouldSelectOnPressUp,\n    isVirtualized,\n    shouldUseVirtualFocus,\n    focus\n  } = options;\n\n  let onSelect = (e: PressEvent | PointerEvent) => manager.select(key, e);\n\n  // Focus the associated DOM node when this item becomes the focusedKey\n  let isFocused = key === manager.focusedKey;\n  useEffect(() => {\n    if (isFocused && manager.isFocused && !shouldUseVirtualFocus && document.activeElement !== ref.current) {\n      if (focus) {\n        focus();\n      } else {\n        focusSafely(ref.current);\n      }\n    }\n  }, [ref, isFocused, manager.focusedKey, manager.childFocusStrategy, manager.isFocused, shouldUseVirtualFocus]);\n\n  // Set tabIndex to 0 if the element is focused, or -1 otherwise so that only the last focused\n  // item is tabbable.  If using virtual focus, don't set a tabIndex at all so that VoiceOver\n  // on iOS 14 doesn't try to move real DOM focus to the item anyway.\n  let itemProps: SelectableItemAria['itemProps'] = {};\n  if (!shouldUseVirtualFocus) {\n    itemProps = {\n      tabIndex: isFocused ? 0 : -1,\n      onFocus(e) {\n        if (e.target === ref.current) {\n          manager.setFocusedKey(key);\n        }\n      }\n    };\n  }\n\n  // By default, selection occurs on pointer down. This can be strange if selecting an\n  // item causes the UI to disappear immediately (e.g. menus).\n  // If shouldSelectOnPressUp is true, we use onPressUp instead of onPressStart.\n  // onPress requires a pointer down event on the same element as pointer up. For menus,\n  // we want to be able to have the pointer down on the trigger that opens the menu and\n  // the pointer up on the menu item rather than requiring a separate press.\n  // For keyboard events, selection still occurs on key down.\n  if (shouldSelectOnPressUp) {\n    itemProps.onPressStart = (e) => {\n      if (e.pointerType === 'keyboard') {\n        onSelect(e);\n      }\n    };\n\n    itemProps.onPressUp = (e) => {\n      if (e.pointerType !== 'keyboard') {\n        onSelect(e);\n      }\n    };\n  } else {\n    // On touch, it feels strange to select on touch down, so we special case this.\n    itemProps.onPressStart = (e) => {\n      if (e.pointerType !== 'touch') {\n        onSelect(e);\n      }\n    };\n\n    itemProps.onPress = (e) => {\n      if (e.pointerType === 'touch') {\n        onSelect(e);\n      }\n    };\n  }\n\n  if (!isVirtualized) {\n    itemProps['data-key'] = key;\n  }\n\n  return {\n    itemProps\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React from 'react';\nimport Transition from 'react-transition-group/Transition';\n\nconst OPEN_STATES = {\n  entering: false,\n  entered: true\n};\n\n/**\n * Timeout issues adding css animations to enter may be related to\n * https://github.com/reactjs/react-transition-group/issues/189 or\n * https://github.com/reactjs/react-transition-group/issues/22\n * my VM isn't good enough to debug accurately and get a better answer.\n *\n * As a result, use enter 0 so that is-open is applied once entered\n * it doesn't matter if we know when the css-animation is done on entering\n * for exiting though, give time for the css-animation to play\n * before removing from the DOM\n * **note** hitting esc bypasses exit animation for anyone testing.\n */\n\nexport function OpenTransition(props) {\n  return (\n    <Transition timeout={{enter: 0, exit: 350}} {...props}>\n      {(state) => React.Children.map(props.children, child => child && React.cloneElement(child, {isOpen: !!OPEN_STATES[state]}))}\n    </Transition>\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {DOMRef} from '@react-types/shared';\nimport {OpenTransition} from './OpenTransition';\nimport {OverlayProps} from '@react-types/overlays';\nimport {Provider} from '@react-spectrum/provider';\nimport React, {useCallback, useState} from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction Overlay(props: OverlayProps, ref: DOMRef<HTMLDivElement>) {\n  let {children, isOpen, container, onEnter, onEntering, onEntered, onExit, onExiting, onExited} = props;\n  let [exited, setExited] = useState(!isOpen);\n\n  let handleEntered = useCallback(() => {\n    setExited(false);\n    if (onEntered) {\n      onEntered();\n    }\n  }, [onEntered]);\n\n  let handleExited = useCallback(() => {\n    setExited(true);\n    if (onExited) {\n      onExited();\n    }\n  }, [onExited]);\n\n  // Don't un-render the overlay while it's transitioning out.\n  let mountOverlay = isOpen || !exited;\n  if (!mountOverlay) {\n    // Don't bother showing anything if we don't have to.\n    return null;\n  }\n\n  let contents = (\n    <Provider ref={ref} UNSAFE_style={{background: 'transparent', isolation: 'isolate'}}>\n      <OpenTransition\n        in={isOpen}\n        appear\n        onExit={onExit}\n        onExiting={onExiting}\n        onExited={handleExited}\n        onEnter={onEnter}\n        onEntering={onEntering}\n        onEntered={handleEntered}>\n        {children}\n      </OpenTransition>\n    </Provider>\n  );\n\n  return ReactDOM.createPortal(contents, container || document.body);\n}\n\nlet _Overlay = React.forwardRef(Overlay);\nexport {_Overlay as Overlay};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n.spectrum-Popover {\n  /* This makes the contents of popovers focusable immediately, without waiting\n     a frame for animations to start. */\n  &.react-spectrum-Popover {\n    visibility: visible;\n  }\n\n  .spectrum-Dialog-content {\n    max-height: initial;\n  }\n}\n\n.spectrum-Modal-wrapper.react-spectrum-Modal-wrapper,\n.spectrum-Modal.react-spectrum-Modal {\n  visibility: visible;\n}\n\n.spectrum-Tray.react-spectrum-Tray {\n  visibility: visible;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames, useDOMRef, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {mergeProps, useLayoutEffect} from '@react-aria/utils';\nimport {Overlay} from './Overlay';\nimport overrideStyles from './overlays.css';\nimport {PlacementAxis, PopoverProps} from '@react-types/overlays';\nimport React, {forwardRef, HTMLAttributes, ReactNode, RefObject, useRef, useState} from 'react';\nimport styles from '@adobe/spectrum-css-temp/components/popover/vars.css';\nimport {useModal, useOverlay} from '@react-aria/overlays';\n\ninterface PopoverWrapperProps extends HTMLAttributes<HTMLElement> {\n  children: ReactNode,\n  placement?: PlacementAxis,\n  arrowProps?: HTMLAttributes<HTMLElement>,\n  hideArrow?: boolean,\n  isOpen?: boolean,\n  onClose?: () => void,\n  shouldCloseOnBlur?: boolean,\n  isKeyboardDismissDisabled?: boolean,\n  isNonModal?: boolean,\n  isDismissable?: boolean\n}\n\n/**\n * Arrow placement can be done pointing right or down because those paths start at 0, x or y. Because the\n * other two don't, they start at a fractional pixel value, it introduces rounding differences between browsers and\n * between display types (retina with subpixels vs not retina). By flipping them with CSS we can ensure that\n * the path always starts at 0 so that it perfectly overlaps the popover's border.\n * See bottom of file for more explanation.\n */\nlet arrowPlacement = {\n  left: 'right',\n  right: 'right',\n  top: 'bottom',\n  bottom: 'bottom'\n};\n\nfunction Popover(props: PopoverProps, ref: DOMRef<HTMLDivElement>) {\n  let {\n    children,\n    placement,\n    arrowProps,\n    onClose,\n    shouldCloseOnBlur,\n    hideArrow,\n    isKeyboardDismissDisabled,\n    isNonModal,\n    isDismissable = true,\n    ...otherProps\n  } = props;\n  let domRef = useDOMRef(ref);\n  let {styleProps} = useStyleProps(props);\n\n  return (\n    <Overlay {...otherProps}>\n      <PopoverWrapper\n        {...styleProps}\n        ref={domRef}\n        placement={placement}\n        arrowProps={arrowProps}\n        onClose={onClose}\n        shouldCloseOnBlur={shouldCloseOnBlur}\n        isKeyboardDismissDisabled={isKeyboardDismissDisabled}\n        hideArrow={hideArrow}\n        isNonModal={isNonModal}\n        isDismissable={isDismissable}>\n        {children}\n      </PopoverWrapper>\n    </Overlay>\n  );\n}\n\nconst PopoverWrapper = forwardRef((props: PopoverWrapperProps, ref: RefObject<HTMLDivElement>) => {\n  let {\n    children,\n    placement = 'bottom',\n    arrowProps,\n    isOpen,\n    hideArrow,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    shouldCloseOnBlur,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    isKeyboardDismissDisabled,\n    isNonModal,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    isDismissable,\n    ...otherProps\n  } = props;\n  let {overlayProps} = useOverlay({...props, isDismissable: isDismissable && isOpen}, ref);\n  let {modalProps} = useModal({\n    isDisabled: isNonModal\n  });\n\n  return (\n    <div\n      {...mergeProps(otherProps, overlayProps, modalProps)}\n      ref={ref}\n      className={\n        classNames(\n          styles,\n          'spectrum-Popover',\n          `spectrum-Popover--${placement}`,\n          {\n            'spectrum-Popover--withTip': !hideArrow,\n            'is-open': isOpen\n          },\n          classNames(\n            overrideStyles,\n            'spectrum-Popover',\n            'react-spectrum-Popover'\n          ),\n          otherProps.className\n        )\n      }\n      role=\"presentation\"\n      data-testid=\"popover\">\n      {children}\n      {hideArrow ? null : (\n        <Arrow arrowProps={arrowProps} direction={arrowPlacement[placement]} />\n      )}\n    </div>\n  );\n});\n\nlet ROOT_2 = Math.sqrt(2);\n\nfunction Arrow(props) {\n  let [size, setSize] = useState(20);\n  let [borderWidth, setBorderWidth] = useState(1);\n  let ref = useRef();\n  // get the css value for the tip size and divide it by 2 for this arrow implementation\n  useLayoutEffect(() => {\n    if (ref.current) {\n      let spectrumTipWidth = window.getComputedStyle(ref.current)\n        .getPropertyValue('--spectrum-popover-tip-size');\n      if (spectrumTipWidth !== '') {\n        setSize(parseInt(spectrumTipWidth, 10) / 2);\n      }\n\n      let spectrumBorderWidth = window.getComputedStyle(ref.current)\n        .getPropertyValue('--spectrum-popover-tip-borderWidth');\n      if (spectrumBorderWidth !== '') {\n        setBorderWidth(parseInt(spectrumBorderWidth, 10));\n      }\n    }\n  }, [ref]);\n\n  let landscape = props.direction === 'top' || props.direction === 'bottom';\n  let mirror = props.direction === 'left' || props.direction === 'top';\n\n  let borderDiagonal = borderWidth * ROOT_2;\n  let halfBorderDiagonal = borderDiagonal / 2;\n\n  let secondary = 2 * size + 2 * borderDiagonal;\n  let primary = size + borderDiagonal;\n\n  let primaryStart = mirror ? primary : 0;\n  let primaryEnd = mirror ? halfBorderDiagonal : primary - halfBorderDiagonal;\n\n  let secondaryStart = halfBorderDiagonal;\n  let secondaryMiddle = secondary / 2;\n  let secondaryEnd = secondary - halfBorderDiagonal;\n\n  let pathData = landscape ? [\n    'M', secondaryStart, primaryStart,\n    'L', secondaryMiddle, primaryEnd,\n    'L', secondaryEnd, primaryStart\n  ] : [\n    'M', primaryStart, secondaryStart,\n    'L', primaryEnd, secondaryMiddle,\n    'L', primaryStart, secondaryEnd\n  ];\n  let arrowProps = props.arrowProps;\n\n  /* use ceil because the svg needs to always accomodate the path inside it */\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/svg/2000\"\n      width={Math.ceil(landscape ? secondary : primary)}\n      height={Math.ceil(landscape ? primary : secondary)}\n      style={props.style}\n      className={classNames(styles, 'spectrum-Popover-tip')}\n      ref={ref}\n      {...arrowProps}>\n      <path className={classNames(styles, 'spectrum-Popover-tip-triangle')} d={pathData.join(' ')} />\n    </svg>\n  );\n}\n\nlet _Popover = forwardRef(Popover);\nexport {_Popover as Popover};\n\n/**\n * More explanation on popover tips.\n * - I tried changing the calculation of the popover placement in an effort to get it squarely onto the pixel grid.\n * This did not work because the problem was in the svg partial pixel end of the path in the popover right and popover bottom.\n * - I tried creating an extra 'bandaid' path that matched the background color and would overlap the popover border.\n * This didn't work because the border on the svg triangle didn't extend all the way to match nicely with the popover border.\n * - I tried getting the client bounding box and setting the svg to that partial pixel value\n * This didn't work because again the issue was inside the svg\n * - I didn't try drawing the svg backwards\n * This could still be tried\n * - I tried changing the calculation of the popover placement AND the svg height/width so that they were all rounded\n * This seems to have done the trick.\n */\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames} from '@react-spectrum/utils';\nimport React from 'react';\nimport underlayStyles from '@adobe/spectrum-css-temp/components/underlay/vars.css';\n\ninterface UnderlayProps {\n  isOpen?: boolean\n}\n\nexport function Underlay({isOpen}: UnderlayProps) {\n  return (\n    <div className={classNames(underlayStyles, 'spectrum-Underlay', {'is-open': isOpen})} />\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames, useDOMRef, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {mergeProps, useViewportSize} from '@react-aria/utils';\nimport {Overlay} from './Overlay';\nimport overrideStyles from './overlays.css';\nimport React, {forwardRef, HTMLAttributes, ReactNode, RefObject, useEffect, useRef, useState} from 'react';\nimport {TrayProps} from '@react-types/overlays';\nimport trayStyles from '@adobe/spectrum-css-temp/components/tray/vars.css';\nimport {Underlay} from './Underlay';\nimport {useModal, useOverlay, usePreventScroll} from '@react-aria/overlays';\n\ninterface TrayWrapperProps extends HTMLAttributes<HTMLElement> {\n  children: ReactNode,\n  isOpen?: boolean,\n  onClose?: () => void,\n  isFixedHeight?: boolean,\n  isNonModal?: boolean,\n  overlayProps: HTMLAttributes<HTMLElement>\n}\n\nfunction Tray(props: TrayProps, ref: DOMRef<HTMLDivElement>) {\n  let {children, onClose, isFixedHeight, isNonModal, ...otherProps} = props;\n  let domRef = useDOMRef(ref);\n  let {styleProps} = useStyleProps(props);\n\n  let {overlayProps, underlayProps} = useOverlay({...props, isDismissable: true}, domRef);\n\n  return (\n    <Overlay {...otherProps}>\n      <Underlay {...underlayProps} />\n      <TrayWrapper\n        {...styleProps}\n        onClose={onClose}\n        ref={domRef}\n        overlayProps={overlayProps}\n        isFixedHeight={isFixedHeight}\n        isNonModal={isNonModal}>\n        {children}\n      </TrayWrapper>\n    </Overlay>\n  );\n}\n\nlet TrayWrapper = forwardRef(function (props: TrayWrapperProps, ref: RefObject<HTMLDivElement>) {\n  let {\n    children,\n    isOpen,\n    isFixedHeight,\n    isNonModal,\n    overlayProps,\n    ...otherProps\n  } = props;\n  usePreventScroll();\n  let {modalProps} = useModal({\n    isDisabled: isNonModal\n  });\n\n  // We need to measure the window's height in JS rather than using percentages in CSS\n  // so that contents (e.g. menu) can inherit the max-height properly. Using percentages\n  // does not work properly because there is nothing to base the percentage on.\n  // We cannot use vh units because mobile browsers adjust the window height dynamically\n  // when the address bar/bottom toolbars show and hide on scroll and vh units are fixed.\n  // Also, the visual viewport is smaller than the layout viewport when the virtual keyboard\n  // is up, so use the VisualViewport API to ensure the tray is displayed above the keyboard.\n  let viewport = useViewportSize();\n  let [height, setHeight] = useState(viewport.height);\n  let timeoutRef = useRef<any>();\n\n  useEffect(() => {\n    clearTimeout(timeoutRef.current);\n\n    // When the height is decreasing, and the keyboard is visible\n    // (visual viewport smaller than layout viewport), delay setting\n    // the new max height until after the animation is complete\n    // so that there isn't an empty space under the tray briefly.\n    if (viewport.height < height && viewport.height < window.innerHeight) {\n      timeoutRef.current = setTimeout(() => {\n        setHeight(viewport.height);\n      }, 500);\n    } else {\n      setHeight(viewport.height);\n    }\n  }, [height, viewport.height]);\n\n  let wrapperStyle: any = {\n    '--spectrum-visual-viewport-height': height + 'px'\n  };\n\n  let wrapperClassName = classNames(\n    trayStyles,\n    'spectrum-Tray-wrapper'\n  );\n\n  let className = classNames(\n    trayStyles,\n    'spectrum-Tray',\n    {\n      'is-open': isOpen,\n      'spectrum-Tray--fixedHeight': isFixedHeight\n    },\n    classNames(\n      overrideStyles,\n      'spectrum-Tray',\n      'react-spectrum-Tray'\n    ),\n    otherProps.className\n  );\n\n  let domProps = mergeProps(otherProps, overlayProps);\n\n  return (\n    <div className={wrapperClassName} style={wrapperStyle}>\n      <div\n        {...domProps}\n        {...modalProps}\n        className={className}\n        ref={ref}\n        data-testid=\"tray\">\n        {children}\n      </div>\n    </div>\n  );\n});\n\nlet _Tray = forwardRef(Tray);\nexport {_Tray as Tray};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusStrategy} from '@react-types/shared';\nimport React, {HTMLAttributes, MutableRefObject, useContext} from 'react';\n\nexport interface MenuContextValue extends HTMLAttributes<HTMLElement> {\n  onClose?: () => void,\n  closeOnSelect?: boolean,\n  shouldFocusWrap?: boolean,\n  autoFocus?: boolean | FocusStrategy,\n  ref?: MutableRefObject<HTMLUListElement>\n}\n\nexport const MenuContext = React.createContext<MenuContextValue>({});\n\nexport function useMenuContext(): MenuContextValue {\n  return useContext(MenuContext);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n@import './index.css';\n@import './skin.css';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames, unwrapDOMRef, useDOMRef, useIsMobileDevice} from '@react-spectrum/utils';\nimport {DismissButton, useOverlayPosition} from '@react-aria/overlays';\nimport {DOMRef, DOMRefValue} from '@react-types/shared';\nimport {FocusScope} from '@react-aria/focus';\nimport {MenuContext} from './context';\nimport {Placement} from '@react-types/overlays';\nimport {Popover, Tray} from '@react-spectrum/overlays';\nimport {PressResponder} from '@react-aria/interactions';\nimport React, {forwardRef, Fragment, useRef} from 'react';\nimport {SpectrumMenuTriggerProps} from '@react-types/menu';\nimport styles from '@adobe/spectrum-css-temp/components/menu/vars.css';\nimport {useMenuTrigger} from '@react-aria/menu';\nimport {useMenuTriggerState} from '@react-stately/menu';\n\nfunction MenuTrigger(props: SpectrumMenuTriggerProps, ref: DOMRef<HTMLElement>) {\n  let menuPopoverRef = useRef<DOMRefValue<HTMLDivElement>>();\n  let triggerRef = useRef<HTMLElement>();\n  let domRef = useDOMRef(ref);\n  let menuTriggerRef = domRef || triggerRef;\n  let menuRef = useRef<HTMLUListElement>();\n  let {\n    children,\n    align = 'start',\n    shouldFlip = true,\n    direction = 'bottom',\n    closeOnSelect\n  } = props;\n\n  let [menuTrigger, menu] = React.Children.toArray(children);\n  let state = useMenuTriggerState(props);\n\n  let {menuTriggerProps, menuProps} = useMenuTrigger({}, state, menuTriggerRef);\n\n  let initialPlacement: Placement;\n  switch (direction) {\n    case 'left':\n    case 'right':\n    case 'start':\n    case 'end':\n      initialPlacement = `${direction} ${align === 'end' ? 'bottom' : 'top'}` as Placement;\n      break;\n    case 'bottom':\n    case 'top':\n    default:\n      initialPlacement = `${direction} ${align}` as Placement;\n  }\n\n  let isMobile = useIsMobileDevice();\n  let {overlayProps: positionProps, placement} = useOverlayPosition({\n    targetRef: menuTriggerRef,\n    overlayRef: unwrapDOMRef(menuPopoverRef),\n    scrollRef: menuRef,\n    placement: initialPlacement,\n    shouldFlip: shouldFlip,\n    isOpen: state.isOpen && !isMobile,\n    onClose: state.close\n  });\n\n  let menuContext = {\n    ...menuProps,\n    ref: menuRef,\n    onClose: state.close,\n    closeOnSelect,\n    autoFocus: state.focusStrategy || true,\n    UNSAFE_style: isMobile ? {\n      width: '100%',\n      maxHeight: 'inherit'\n    } : undefined,\n    UNSAFE_className: classNames(styles, {'spectrum-Menu-popover': !isMobile})\n  };\n\n  let contents = (\n    <FocusScope restoreFocus>\n      <DismissButton onDismiss={state.close} />\n      {menu}\n      <DismissButton onDismiss={state.close} />\n    </FocusScope>\n  );\n\n  // On small screen devices, the menu is rendered in a tray, otherwise a popover.\n  let overlay;\n  if (isMobile) {\n    overlay = (\n      <Tray isOpen={state.isOpen} onClose={state.close} shouldCloseOnBlur>\n        {contents}\n      </Tray>\n    );\n  } else {\n    overlay = (\n      <Popover\n        isOpen={state.isOpen}\n        UNSAFE_style={positionProps.style}\n        ref={menuPopoverRef}\n        placement={placement}\n        hideArrow\n        onClose={state.close}\n        shouldCloseOnBlur>\n        {contents}\n      </Popover>\n    );\n  }\n\n  return (\n    <Fragment>\n      <PressResponder {...menuTriggerProps} ref={menuTriggerRef} isPressed={state.isOpen}>\n        {menuTrigger}\n      </PressResponder>\n      <MenuContext.Provider value={menuContext}>\n        {overlay}\n      </MenuContext.Provider>\n    </Fragment>\n  );\n}\n\n/**\n * The MenuTrigger serves as a wrapper around a Menu and its associated trigger,\n * linking the Menu's open state with the trigger's press state.\n */\nlet _MenuTrigger = forwardRef(MenuTrigger);\nexport {_MenuTrigger as MenuTrigger};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaButtonProps} from '@react-types/button';\nimport {HTMLAttributes, RefObject} from 'react';\nimport {MenuTriggerState} from '@react-stately/menu';\nimport {useId} from '@react-aria/utils';\nimport {useOverlayTrigger} from '@react-aria/overlays';\n\ninterface MenuTriggerAriaProps {\n  /** The type of menu that the menu trigger opens. */\n  type?: 'menu' | 'listbox',\n  /** Whether menu trigger is disabled. */\n  isDisabled?: boolean\n}\n\ninterface MenuTriggerAria {\n  /** Props for the menu trigger element. */\n  menuTriggerProps: AriaButtonProps,\n\n  /** Props for the menu. */\n  menuProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides the behavior and accessibility implementation for a menu trigger.\n * @param props - Props for the menu trigger.\n * @param state - State for the menu trigger.\n */\nexport function useMenuTrigger(props: MenuTriggerAriaProps, state: MenuTriggerState, ref: RefObject<HTMLElement>): MenuTriggerAria {\n  let {\n    type = 'menu' as MenuTriggerAriaProps['type'],\n    isDisabled\n  } = props;\n\n  let menuTriggerId = useId();\n  let {triggerProps, overlayProps} = useOverlayTrigger({type}, state, ref);\n\n  let onKeyDown = (e) => {\n    if ((typeof e.isDefaultPrevented === 'function' && e.isDefaultPrevented()) || e.defaultPrevented || isDisabled) {\n      return;\n    }\n\n    if (ref && ref.current) {\n      switch (e.key) {\n        case 'ArrowDown':\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          e.stopPropagation();\n          state.toggle('first');\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          e.stopPropagation();\n          state.toggle('last');\n          break;\n      }\n    }\n  };\n\n  return {\n    menuTriggerProps: {\n      ...triggerProps,\n      id: menuTriggerId,\n      onPressStart(e) {\n        // For consistency with native, open the menu on mouse/key down, but touch up.\n        if (e.pointerType !== 'touch' && e.pointerType !== 'keyboard') {\n          // If opened with a screen reader, auto focus the first item.\n          // Otherwise, the menu itself will be focused.\n          state.toggle(e.pointerType === 'virtual' ? 'first' : null);\n        }\n      },\n      onPress(e) {\n        if (e.pointerType === 'touch') {\n          state.toggle();\n        }\n      },\n      onKeyDown\n    },\n    menuProps: {\n      ...overlayProps,\n      'aria-labelledby': menuTriggerId\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport CheckmarkMedium from '@spectrum-icons/ui/CheckmarkMedium';\nimport {classNames, SlotProvider} from '@react-spectrum/utils';\nimport {FocusRing} from '@react-aria/focus';\nimport {Grid} from '@react-spectrum/layout';\nimport {mergeProps} from '@react-aria/utils';\nimport {Node} from '@react-types/shared';\nimport React, {Key, useRef} from 'react';\nimport styles from '@adobe/spectrum-css-temp/components/menu/vars.css';\nimport {Text} from '@react-spectrum/text';\nimport {TreeState} from '@react-stately/tree';\nimport {useHover} from '@react-aria/interactions';\nimport {useMenuContext} from './context';\nimport {useMenuItem} from '@react-aria/menu';\n\ninterface MenuItemProps<T> {\n  item: Node<T>,\n  state: TreeState<T>,\n  isVirtualized?: boolean,\n  onAction?: (key: Key) => void\n}\n\n/** @private */\nexport function MenuItem<T>(props: MenuItemProps<T>) {\n  let {\n    item,\n    state,\n    isVirtualized,\n    onAction\n  } = props;\n\n  let {\n    onClose,\n    closeOnSelect\n  } = useMenuContext();\n\n  let {\n    rendered,\n    key\n  } = item;\n\n  let isSelected = state.selectionManager.isSelected(key);\n  let isDisabled = state.disabledKeys.has(key);\n\n  let ref = useRef<HTMLLIElement>();\n  let {menuItemProps, labelProps, descriptionProps, keyboardShortcutProps} = useMenuItem(\n    {\n      isSelected,\n      isDisabled,\n      'aria-label': item['aria-label'],\n      key,\n      onClose,\n      closeOnSelect,\n      isVirtualized,\n      onAction\n    },\n    state,\n    ref\n  );\n  let {hoverProps, isHovered} = useHover({isDisabled});\n\n  let contents = typeof rendered === 'string'\n    ? <Text>{rendered}</Text>\n    : rendered;\n\n  return (\n    <FocusRing focusRingClass={classNames(styles, 'focus-ring')}>\n      <li\n        {...mergeProps(menuItemProps, hoverProps)}\n        ref={ref}\n        className={classNames(\n          styles,\n          'spectrum-Menu-item',\n          {\n            'is-disabled': isDisabled,\n            'is-selected': isSelected,\n            'is-selectable': state.selectionManager.selectionMode !== 'none',\n            'is-hovered': isHovered\n          }\n        )}>\n        <Grid\n          UNSAFE_className={\n            classNames(\n              styles,\n              'spectrum-Menu-itemGrid'\n            )\n          }>\n          <SlotProvider\n            slots={{\n              text: {UNSAFE_className: styles['spectrum-Menu-itemLabel'], ...labelProps},\n              end: {UNSAFE_className: styles['spectrum-Menu-end'], ...descriptionProps},\n              icon: {UNSAFE_className: styles['spectrum-Menu-icon'], size: 'S'},\n              description: {UNSAFE_className: styles['spectrum-Menu-description'], ...descriptionProps},\n              keyboard: {UNSAFE_className: styles['spectrum-Menu-keyboard'], ...keyboardShortcutProps}\n            }}>\n            {contents}\n            {isSelected &&\n              <CheckmarkMedium\n                slot=\"checkmark\"\n                UNSAFE_className={\n                      classNames(\n                        styles,\n                        'spectrum-Menu-checkmark'\n                      )\n                    } />\n                }\n          </SlotProvider>\n        </Grid>\n      </li>\n    </FocusRing>\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames} from '@react-spectrum/utils';\nimport {MenuItem} from './MenuItem';\nimport {Node} from '@react-types/shared';\nimport React, {Fragment, Key} from 'react';\nimport styles from '@adobe/spectrum-css-temp/components/menu/vars.css';\nimport {TreeState} from '@react-stately/tree';\nimport {useMenuSection} from '@react-aria/menu';\nimport {useSeparator} from '@react-aria/separator';\n\ninterface MenuSectionProps<T> {\n  item: Node<T>,\n  state: TreeState<T>,\n  onAction?: (key: Key) => void\n}\n\n/** @private */\nexport function MenuSection<T>(props: MenuSectionProps<T>) {\n  let {item, state, onAction} = props;\n  let {itemProps, headingProps, groupProps} = useMenuSection({\n    heading: item.rendered,\n    'aria-label': item['aria-label']\n  });\n\n  let {separatorProps} = useSeparator({\n    elementType: 'li'\n  });\n\n  return (\n    <Fragment>\n      {item.key !== state.collection.getFirstKey() &&\n        <li\n          {...separatorProps}\n          className={classNames(\n            styles,\n            'spectrum-Menu-divider'\n          )} />\n      }\n      <li {...itemProps}>\n        {item.rendered &&\n          <span\n            {...headingProps}\n            className={\n              classNames(\n                styles,\n                'spectrum-Menu-sectionHeading'\n              )\n            }>\n            {item.rendered}\n          </span>\n        }\n        <ul\n          {...groupProps}\n          className={\n            classNames(\n              styles,\n              'spectrum-Menu'\n            )\n          }>\n          {[...item.childNodes].map(node => {\n            let item = (\n              <MenuItem\n                key={node.key}\n                item={node}\n                state={state}\n                onAction={onAction} />\n            );\n\n            if (node.wrapper) {\n              item = node.wrapper(item);\n            }\n\n            return item;\n          })}\n        </ul>\n      </li>\n    </Fragment>\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {HTMLAttributes, ReactNode} from 'react';\nimport {useId} from '@react-aria/utils';\n\ninterface AriaMenuSectionProps {\n  /** The heading for the section. */\n  heading?: ReactNode,\n  /** An accessibility label for the section. Required if `heading` is not present. */\n  'aria-label'?: string\n}\n\ninterface MenuSectionAria {\n  /** Props for the wrapper list item. */\n  itemProps: HTMLAttributes<HTMLElement>,\n\n  /** Props for the heading element, if any. */\n  headingProps: HTMLAttributes<HTMLElement>,\n\n  /** Props for the group element. */\n  groupProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides the behavior and accessibility implementation for a section in a menu.\n * See `useMenu` for more details about menus.\n * @param props - Props for the section.\n */\nexport function useMenuSection(props: AriaMenuSectionProps): MenuSectionAria {\n  let {heading, 'aria-label': ariaLabel} = props;\n  let headingId = useId();\n\n  return {\n    itemProps: {\n      role: 'presentation'\n    },\n    headingProps: heading ? {\n      // Techincally, menus cannot contain headings according to ARIA.\n      // We hide the heading from assistive technology, and only use it\n      // as a label for the nested group.\n      id: headingId,\n      'aria-hidden': true\n    } : {},\n    groupProps: {\n      role: 'group',\n      'aria-label': ariaLabel,\n      'aria-labelledby': heading ? headingId : undefined\n    }\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaLabelingProps, DOMProps, Orientation} from '@react-types/shared';\nimport {filterDOMProps} from '@react-aria/utils';\nimport {HTMLAttributes} from 'react';\n\nexport interface SeparatorProps extends DOMProps, AriaLabelingProps {\n  /**\n   * The orientation of the separator.\n   * @default 'horizontal'\n   */\n  orientation?: Orientation,\n  /** The HTML element type that will be used to render the separator. */\n  elementType?: string\n}\n\nexport interface SeparatorAria {\n  /** Props for the separator element. */\n  separatorProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Provides the accessibility implementation for a separator.\n * A separator is a visual divider between two groups of content,\n * e.g. groups of menu items or sections of a page.\n */\nexport function useSeparator(props: SeparatorProps): SeparatorAria {\n  let domProps = filterDOMProps(props, {labelable: true});\n  let ariaOrientation;\n  // if orientation is horizontal, aria-orientation default is horizontal, so we leave it undefined\n  // if it's vertical, we need to specify it\n  if (props.orientation === 'vertical') {\n    ariaOrientation = 'vertical';\n  }\n  // hr elements implicitly have role = separator and a horizontal orientation\n  if (props.elementType !== 'hr') {\n    return {\n      separatorProps: {\n        ...domProps,\n        role: 'separator',\n        'aria-orientation': ariaOrientation\n      }\n    };\n  }\n  return {separatorProps: domProps};\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {classNames, useDOMRef, useStyleProps} from '@react-spectrum/utils';\nimport {DOMRef} from '@react-types/shared';\nimport {MenuContext} from './context';\nimport {MenuItem} from './MenuItem';\nimport {MenuSection} from './MenuSection';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {ReactElement, useContext} from 'react';\nimport {SpectrumMenuProps} from '@react-types/menu';\nimport styles from '@adobe/spectrum-css-temp/components/menu/vars.css';\nimport {useMenu} from '@react-aria/menu';\nimport {useTreeState} from '@react-stately/tree';\n\nfunction Menu<T extends object>(props: SpectrumMenuProps<T>, ref: DOMRef<HTMLUListElement>) {\n  let contextProps = useContext(MenuContext);\n  let completeProps = {\n    ...mergeProps(contextProps, props)\n  };\n\n  let domRef = useDOMRef(ref);\n  let state = useTreeState(completeProps);\n  let {menuProps} = useMenu(completeProps, state, domRef);\n  let {styleProps} = useStyleProps(completeProps);\n  useSyncRef(contextProps, domRef);\n\n  return (\n    <ul\n      {...menuProps}\n      {...styleProps}\n      ref={domRef}\n      className={\n        classNames(\n          styles,\n          'spectrum-Menu',\n          styleProps.className\n        )\n      }>\n      {[...state.collection].map(item => {\n        if (item.type === 'section') {\n          return (\n            <MenuSection\n              key={item.key}\n              item={item}\n              state={state}\n              onAction={completeProps.onAction} />\n          );\n        }\n\n        let menuItem = (\n          <MenuItem\n            key={item.key}\n            item={item}\n            state={state}\n            onAction={completeProps.onAction} />\n        );\n\n        if (item.wrapper) {\n          menuItem = item.wrapper(menuItem);\n        }\n\n        return menuItem;\n      })}\n    </ul>\n  );\n}\n\n/**\n * Menus display a list of actions or options that a user can choose.\n */\n// forwardRef doesn't support generic parameters, so cast the result to the correct type\n// https://stackoverflow.com/questions/58469229/react-with-typescript-generics-while-using-react-forwardref\nconst _Menu = React.forwardRef(Menu) as <T>(props: SpectrumMenuProps<T> & {ref?: DOMRef<HTMLUListElement>}) => ReactElement;\nexport {_Menu as Menu};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaMenuProps} from '@react-types/menu';\nimport {filterDOMProps, mergeProps} from '@react-aria/utils';\nimport {HTMLAttributes, RefObject} from 'react';\nimport {KeyboardDelegate} from '@react-types/shared';\nimport {TreeState} from '@react-stately/tree';\nimport {useSelectableList} from '@react-aria/selection';\n\ninterface MenuAria {\n  /** Props for the menu element. */\n  menuProps: HTMLAttributes<HTMLElement>\n}\n\ninterface AriaMenuOptions<T> extends AriaMenuProps<T> {\n  /** Whether the menu uses virtual scrolling. */\n  isVirtualized?: boolean,\n\n  /**\n   * An optional keyboard delegate implementation for type to select,\n   * to override the default.\n   */\n  keyboardDelegate?: KeyboardDelegate\n}\n\n/**\n * Provides the behavior and accessibility implementation for a menu component.\n * A menu displays a list of actions or options that a user can choose.\n * @param props - Props for the menu.\n * @param state - State for the menu, as returned by `useListState`.\n */\nexport function useMenu<T>(props: AriaMenuOptions<T>, state: TreeState<T>, ref: RefObject<HTMLElement>): MenuAria {\n  let {\n    shouldFocusWrap = true,\n    ...otherProps\n  } = props;\n\n  if (!props['aria-label'] && !props['aria-labelledby']) {\n    console.warn('An aria-label or aria-labelledby prop is required for accessibility.');\n  }\n\n  let domProps = filterDOMProps(props, {labelable: true});\n  let {listProps} = useSelectableList({\n    ...otherProps,\n    ref,\n    selectionManager: state.selectionManager,\n    collection: state.collection,\n    disabledKeys: state.disabledKeys,\n    shouldFocusWrap\n  });\n\n  return {\n    menuProps: mergeProps(domProps, {\n      role: 'menu',\n      ...listProps\n    })\n  };\n}\n"],"sourceRoot":""}